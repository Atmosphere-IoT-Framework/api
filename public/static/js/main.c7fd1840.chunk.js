(this.webpackJsonprestool=this.webpackJsonprestool||[]).push([[0],{118:function(e){e.exports=JSON.parse('{"$id":"https://github.com/dsternlicht/RESTool/blob/master/config.schema.json","$schema":"http://json-schema.org/draft-07/schema#","description":"The configuration file used for a RESTool application, see https://github.com/dsternlicht/RESTool","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of your app."},"pages":{"type":"array","items":{"$ref":"#/definitions/page"}},"baseUrl":{"type":"string","description":"Base url of the api. This will prefix the url of all the api methods defined for all pages. This is normally the domain plus a base path. For example: \\"https://restool-sample-app.herokuapp.com/api\\"\\n\\nNote: If different pages use different base urls this should not be used. Instead, you should explicitly define absolute urls for each method."},"errorMessageDataPath":{"$ref":"#/definitions/errorMessageDataPath"},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"unauthorizedRedirectUrl":{"type":"string","description":"Path to navigate to when the api returns a 401 (Unauthorized) error. You can use :returnUrl to pass a return location. For example: \\"/login/myLoginPage?return=:returnUrl\\""},"favicon":{"type":"string","description":"A URL for you app\'s favicon."},"loginUrl":{"type":"string","description":"A URL for you app\'s login entry point."},"customStyles":{"$ref":"#/definitions/customStyles"},"customLabels":{"$ref":"#/definitions/customLabels"}},"required":["name","pages"],"definitions":{"errorMessageDataPath":{"type":"array","items":{"type":"string"},"description":"The path within an error response object to look for an error message. If multiple are provided, each will be tried in order until a message is found."},"customStyles":{"type":"object","additionalProperties":false,"properties":{"vars":{"type":"object","additionalProperties":false,"properties":{"appText":{"type":"string","description":"Root text color."},"appBackground":{"type":"string","description":"App background color."},"navBackground":{"type":"string","description":"Navigation menu background color."},"navText":{"type":"string","description":"Navigation menu text color."},"navItemText":{"type":"string","description":"Navigation item text color."},"navItemHoverBackground":{"type":"string","description":"Navigation item background color on hover event."},"navItemActiveBackground":{"type":"string","description":"Active navigation item background color."},"actionButtonBackground":{"type":"string","description":"Action button background color."},"actionButtonHoverBackground":{"type":"string","description":"Action button background color on hover event."},"actionButtonText":{"type":"string","description":"Action button text  color."}}}}},"page":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of the page. This will be presented in the menu."},"id":{"type":"string","description":"A unique identifier for the page. RESTool will use it to navigate between pages."},"itemName":{"type":"string","description":"The name of the entity visualized in this page."},"description":{"type":"string","description":"A short description about the page and its usage."},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"methods":{"$ref":"#/definitions/methods"},"customActions":{"type":"array","items":{"$ref":"#/definitions/customAction"},"description":"A list of extra (non RESTful) endpoints available in your RESTful API. Specifically customActions is a list of PUT or POST method objects."},"customLabels":{"$ref":"#/definitions/customLabels"}},"required":["name","id","itemName"]},"requestHeaders":{"patternProperties":{"^":{"type":"string"}},"description":"A list of key-value headers you wish to add to every request we\'re making.\\nFor example:\\n{ Authentication: \'SECRET_KEY\', \'X-USER-ID\': \'USER_ID\' }"},"methods":{"type":"object","additionalProperties":false,"properties":{"getAll":{"$ref":"#/definitions/getAll"},"getSingle":{"$ref":"#/definitions/getSingle"},"post":{"$ref":"#/definitions/post"},"graph":{"$ref":"#/definitions/post"},"put":{"$ref":"#/definitions/put"},"delete":{"$ref":"#/definitions/delete"}},"required":["getAll"]},"method":{"type":"object","properties":{"url":{"type":"string","description":"The url for making the request. The url could be either relative or absolute. If a baseUrl is defined then you should only provide a relative path. For example: /users/:id.\\nThe url could contain parameters that will be extracted if needed. For example: \\nhttps://website.com/users/:id - note that the parameter name in the url should match the one you\'re returning in your API."},"actualMethod":{"type":"string","enum":["get","put","post","delete","patch"]},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"queryParams":{"type":"array","items":{"$ref":"#/definitions/inputField"},"description":"An array of query parameters fields that will be added to the request.\\nIf your url includes the name of the parameter, it will be used as part of the path rather than as a query parameter. For example if your url is /api/contact/234/address you might make a parameter called contactId then set the url as follows: /api/contact/:contactId/address.\\nEach query param item is an object. See input fields."}},"required":["url"]},"getAll":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/displayField"}},"dataPath":{"type":"string","description":"TODO"},"display":{"type":"object","properties":{"type":{"enum":["table","cards"]}},"description":"RESTool allows you to control how to output the data. The display object has a type property that will define how to display the data. RESTool supports two display type: \\"table\\" and \\"cards\\"."},"sortBy":{"type":["string","array"],"items":{"type":"string"},"description":"One or more paths to properties in the result object to sort the list by."},"pagination":{"$ref":"#/definitions/pagination"},"dataTransform":{"description":"Relevant only when using dynamic (js) config. A function to allow manipulation on the response data. Useful for changing/adding data for display purposes."}},"required":["display","fields"]}]},"getSingle":{"$ref":"#/definitions/method","description":"This method will be fired once you hit the edit button on an item in order to get a single item\'s data. By default, if this method hasn\'t been set, when editing an item, RESTool will take the raw data from the original getAll request.","properties":{"dataTransform":{"description":"Relevant only when using dynamic (js) config. A function to allow manipulation on the response data. Useful for changing/adding data for display purposes."}}},"post":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}}},"required":["fields"]}],"description":"The post method will be used to create new items in your API resource."},"graph":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}},"dataPath":{"type":"string","description":"TODO"}},"required":["fields"]}],"description":"This method will be used to create graph with the resource within the page."},"put":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}},"includeOriginalFields":{"type":"boolean","description":"When set to true, all fields from the original object are merged and sent in the request body. Default is false."}},"required":["fields"]}],"description":"The put method will be used to update an existing item in your API resource."},"delete":{"$ref":"#/definitions/method","description":"The delete method will be used to delete an existing item in your API resource."},"inputField":{"additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of the field / parameter to be sent."},"type":{"type":"string","enum":["text","long-text","object","encode","integer","number","boolean","date","email","color","select","array","file","password","note","hidden"],"description":"Use the type field to define the type of the field."},"readonly":{"type":"boolean"},"disabled":{"type":"boolean"},"label":{"type":"string","description":"A label that describes the field. This will act as a label in RESTool\'s forms."},"dataPath":{"type":"string","description":"Use this field to let RESTool know what is the path of this field in the body of the request."},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"object","properties":{"display":{"type":"string"},"value":{}}}]},"description":"Add the options field if you chose a select as a type. This field should contain an array of options to be displayed in the select box."},"arrayType":{"type":"string","enum":["text","object"],"description":"For array field type, you should specify another property called arrayType so RESTool will know how to present & send the data in the POST and PUT methods."},"value":{"description":"Set a default value to the field."},"required":{"type":"boolean","description":"If true, a field will be marked as required on PUT and POST forms."},"placeholder":{"type":"string","description":"Input field placeholder."},"accept":{"type":"string","description":"An optional setting for file type inputs. When set, the file input\'s accept property will perform file type filtering when browsing for files."},"useInUrl":{"type":"boolean","description":"If true, a field can be used as a parameter in a PUT url. Otherwise only fields retrieved in the original GET can be used as parameters. It\'s data will still be added to the PUT request body."},"urlReplaceOnly":{"type":"boolean","description":"If true, a field will only be replaced in the URL and is not appended to the final query string."},"optionSource":{"$ref":"#/definitions/optionSource","description":"Use the optionSource field to load options for a select box from a REST service. If this is used with options, the items from options will be added to the select box before those fetched from the api."}},"required":["name","type"]},"displayField":{"additionalProperties":false,"properties":{"name":{"type":"string","description":"The property name of the field that contains the value in the API result."},"type":{"type":"string","enum":["text","url","image","colorbox","boolean","html"],"description":"This will help RESTool to render the main view.\\ntext -  will parse the value as a text\\nurl -  will render an anchor element with a clickable link\\nimage -  will render an image from the url\\ncolorbox -  will render a #RRGGBB hex string as an 80 x 20 pixel colored rectangle, overlaid with the hex color string"},"label":{"type":"string","description":"A label that describes the field. Will be presented as table headers in the main view."},"dataPath":{"type":"string","description":""},"url":{"type":"string","description":"URL for url typed fields"},"urlLabel":{"type":"string","description":"Display the url label rather than the entire value."},"filterable":{"type":"boolean","description":"Set to true to enable a text control to do simple client-side filtering by values of this field. Can be specified for multiple fields."},"truncate":{"type":"boolean","description":"Causes long values to be truncated. By default, truncation is not enabled for fields."},"htmlCode":{"type":"string","description":"HTML code to display in a cell. Use {value} to insert item value at this place"}},"required":["name","type"]},"optionSource":{"additionalProperties":false,"properties":{"url":{"type":"string","description":"url to fetch data from "},"dataPath":{"type":["string","null"],"description":"let us know where we should take the data from"},"displayPath":{"type":"string","description":"property of the object to take the display value from"},"valuePath":{"type":"string","description":"property of the object to take the option value from"},"preLoad":{"type":"boolean","description":"property of the object that will force the load of values only once at beginning"},"name":{"type":"string","description":"the name of the item to get values from"},"sortBy":{"type":["string","array"],"items":{"type":"string"},"description":"one or more properties to sort the objects by"}}},"pagination":{"additionalProperties":false,"required":["source","type","params"],"properties":{"source":{"enum":["query","body"],"description":"Where the pagination parameters are written to. Only supports query parameters for now."},"type":{"enum":["buttons","infinite-scroll"],"description":"Type of pagination. Buttons is the standard one. You can also have a inifite scroll with lazy loading."},"params":{"$ref":"#/definitions/paginationParams"},"fields":{"$ref":"#/definitions/paginationFields"}}},"paginationParams":{"additionalProperties":false,"required":[],"properties":{"page":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the page number."},"limit":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the maximum number of items to be returned by the API."},"sortBy":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the sorting value."},"descending":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the order in which the API should return items. false by default."}}},"paginationFields":{"additionalProperties":false,"properties":{"page":{"$ref":"#/definitions/paginationField"},"total":{"$ref":"#/definitions/paginationField"}}},"paginationField":{"additionalProperties":false,"required":["dataPath"],"properties":{"dataPath":{"type":"string"},"display":{"type":"boolean"}}},"queryParamConfig":{"additionalProperties":false,"required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"urlReplaceOnly":{"type":"boolean"},"label":{"type":"string"}}},"customAction":{"allOf":[{"$ref":"#/definitions/put"},{"type":"object","properties":{"icon":{"type":"string","description":"You may configure the icon of the action. RESTool uses font-awesome and you may use any icon name you want from their collection."}}}],"description":"Specifically customActions is a list of PUT or POST method objects. For example this could enable an endpoint like: PUT /users/:id/disable"},"customLabels":{"additionalProperties":false,"properties":{"buttons":{"$ref":"#/definitions/buttonLabels"},"formTitles":{"$ref":"#/definitions/formTitleLabels"},"placeholders":{"$ref":"#/definitions/placeholderLabels"},"tableColumnHeaders":{"$ref":"#/definitions/tableColumnHeaders"},"pagination":{"$ref":"#/definitions/paginationLabels"}}},"buttonLabels":{"additionalProperties":false,"properties":{"addItem":{"type":"string","description":"Content of the add button on a page.","default":"+ Add Item"},"editItem":{"type":"string","description":"Title of the edit button on a row or a card.","default":"Edit"},"deleteItem":{"type":"string","description":"Title of the delete button on a row or a card.","default":"Delete"},"clearInput":{"type":"string","description":"Title of the clear button on form inputs.","default":"Clear"},"closeForm":{"type":"string","description":"Title of the close button in forms.","default":"Close"},"addArrayItem":{"type":"string","description":"Title of the add button on arrays inputs in forms.","default":"Add Item"}}},"formTitleLabels":{"additionalProperties":false,"properties":{"addItem":{"type":"string","description":"Content of the add button on a page.","default":"Add Item"},"editItem":{"type":"string","description":"Title of the edit button on a row or a card.","default":"Edit Item"}}},"placeholderLabels":{"additionalProperties":false,"properties":{"object":{"type":"string","description":"JSON input placeholder.","default":"Enter JSON..."},"array":{"type":"string","description":"JSON array input placeholder.","default":"Enter JSON array..."},"text":{"type":"string","description":"Text input placeholder.","default":"Enter text..."},"number":{"type":"string","description":"Number input placeholder.","default":0},"color":{"type":"string","description":"Color input placeholder.","default":"Enter color..."},"email":{"type":"string","description":"Email input placeholder.","default":"Enter email..."},"password":{"type":"string","description":"Password input placeholder.","default":"Enter password..."},"date":{"type":"string","description":"Date input placeholder.","default":"Enter date..."},"file":{"type":"string","description":"File input placeholder.","default":"Select file..."}}},"tableColumnHeaders":{"additionalProperties":false,"properties":{"actions":{"type":"string","description":"Header of the action column in tables.","default":"Actions"}}},"paginationLabels":{"additionalProperties":false,"properties":{"itemsCount":{"type":"string","description":"","default":"Showing :currentCountFrom-:currentCountTo out of :totalCount items"},"previousPageTitle":{"type":"string","description":"","default":"Previous page"},"nextPageTitle":{"type":"string","description":"","default":"Next page"}}}}}')},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),l=a(2),s=a.n(l),c=a(4),u=a(22),d=a(19),p=a(6),m=a(11),f=a(12),v=a(29),h=a(27),g=a(30),b=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"extractDataByDataPath",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return a?e[a]:e;var n=e,r=t.split("."),o=!0,i=!1,l=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if("undefined"===typeof n[u])return null;n=n[u]}}catch(d){i=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}return"undefined"===typeof n?null:a?n[a]:n}},{key:"checkIfFieldIsObject",value:function(e){return"object"===e.type||!("array"!==e.type||e.arrayType&&"object"!==e.arrayType)}},{key:"arrayToCSV",value:function(e){var t="object"!==typeof e?JSON.parse(e):e,a="".concat(Object.keys(t[0]).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n";return t.reduce((function(e,t){return e+="".concat(Object.values(t).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n"}),a)}}]),e}()),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(m.a)(this,e),this.baseUrl=void 0,this.loginUrl=void 0,this.unauthorizedRedirectUrl=void 0,this.errorMessageDataPath=void 0,this.requestHeaders=void 0,this.baseUrl=t||"",this.loginUrl=r||"",this.unauthorizedRedirectUrl=a||"",this.errorMessageDataPath=n||"",this.requestHeaders={}}return Object(f.a)(e,[{key:"urlIsAbsolute",value:function(e){return 0===e.indexOf("http")||0===e.indexOf("https")}},{key:"replaceParamsInUrl",value:function(e,t){if(!t||"object"!==typeof t)return e;var a=e;return Object.keys(t).forEach((function(e){var n=":".concat(e);a=a.replace(n,t[e])})),a}},{key:"buildUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(!t||!t.length)return this.replaceParamsInUrl(e,n);var r=e,o=[],i="-1",l="10",s=!0,c=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var m=d.value,f="";m.name&&"undefined"!==typeof m.value&&("page"!==m.name?"limit"!==m.name?"tags"===m.name&&""===m.value||(f="info"===m.name?'{"$regex":"'+m.value+'","$options":"i"}':'"'+m.value+'"',!0===a?o.push('"'.concat(m.name,'":').concat(f||"")):o.push('"'.concat(m.name,'":{"$regex" : ').concat(f||"","}"))):l=m.value:i=m.value)}}catch(v){c=!0,u=v}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}return r+="?filter={"+o.join(",")+"}","-1"!=i&&(r+="&page="+i),r+="&limit="+l,console.log("Requested URL : "+r),r}},{key:"buildRequest",value:function(e){var t=this.urlIsAbsolute(e.origUrl)?e.origUrl:this.baseUrl+e.origUrl,a=this.buildUrl(t,e.queryParams,e.exactMatch,e.rawData),n=sessionStorage.getItem("diten-token")?{Authorization:sessionStorage.getItem("diten-token")}:{};return{url:a,params:{method:e.method?e.method.toUpperCase():"GET",headers:Object.assign(n,this.requestHeaders,e.headers||{}),body:"post"===e.method||"put"===e.method||"patch"===e.method?e.body:void 0}}}},{key:"getErrorMessage",value:function(e){var t,a,n,r,o,i,l,c,u;return s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t="",d.prev=1,d.next=4,s.a.awrap(e.json());case 4:for(a=d.sent,n=!0,r=!1,o=void 0,d.prev=8,i=this.errorMessageDataPath[Symbol.iterator]();!(n=(l=i.next()).done);n=!0)c=l.value,(u=b.extractDataByDataPath(a,c))&&(t=u);d.next=16;break;case 12:d.prev=12,d.t0=d.catch(8),r=!0,o=d.t0;case 16:d.prev=16,d.prev=17,n||null==i.return||i.return();case 19:if(d.prev=19,!r){d.next=22;break}throw o;case 22:return d.finish(19);case 23:return d.finish(16);case 24:d.next=28;break;case 26:d.prev=26,d.t1=d.catch(1);case 28:return d.abrupt("return",t&&t.length?t:"".concat(e.status," - ").concat(e.statusText||""));case 29:case"end":return d.stop()}}),null,this,[[1,26],[8,12,16,24],[17,,19,23]])}},{key:"handleError",value:function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(401!==e.status||!this.unauthorizedRedirectUrl){a.next=5;break}return sessionStorage.clear(),t=this.unauthorizedRedirectUrl.replace(":returnUrl",encodeURIComponent(document.location.href)),document.location.replace(t),a.abrupt("return");case 5:return a.t0=Error,a.next=8,s.a.awrap(this.getErrorMessage(e));case 8:throw a.t1=a.sent,new a.t0(a.t1);case 10:case"end":return a.stop()}}),null,this)}},{key:"makeRequest",value:function(e){var t,a,n,r=arguments;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:"json",o.next=4,s.a.awrap(fetch(e,Object.assign({},t,{})));case 4:if(!(n=o.sent).ok){o.next=17;break}o.t0=a,o.next="json"===o.t0?9:"text"===o.t0?12:"boolean"===o.t0?15:16;break;case 9:return o.next=11,s.a.awrap(n.json());case 11:return o.abrupt("return",o.sent);case 12:return o.next=14,s.a.awrap(n.text());case 14:return o.abrupt("return",o.sent);case 15:case 16:return o.abrupt("return",!0);case 17:return o.next=19,s.a.awrap(this.handleError(n));case 19:case"end":return o.stop()}}),null,this)}},{key:"fetch",value:function(e){var t,a,n,r,o,i,l,c,u,d,p;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.method,a=e.origUrl,n=e.queryParams,r=e.exactMatch,o=e.rawData,i=e.body,l=e.headers,c=e.responseType,u=this.buildRequest({method:t,origUrl:a,queryParams:n,exactMatch:r,rawData:o,body:i,headers:l}),d=u.url,p=u.params,m.next=4,s.a.awrap(this.makeRequest(d,p,c));case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}}),null,this)}}]),e}(),E=a(71),w=a.n(E),x=new y,O=new(function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"getRemoteConfig",value:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith(".js")){t.next=4;break}return t.next=3,s.a.awrap(import(e));case 3:return t.abrupt("return",t.sent.default);case 4:return t.next=6,s.a.awrap(x.fetch({origUrl:e}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}))}},{key:"loadDefaultConfig",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.getRemoteConfig("../../config.js"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,this)}},{key:"validateConfig",value:function(e){if(null===e)return{isValid:!0,errorMessage:null};var t=a(118),n=new w.a({allErrors:!0,verbose:!0}).compile(t),r=n(e);if("boolean"!==typeof r)throw new Error("Unexpected asynchronous JSON validation");if(r)return{isValid:r,errorMessage:null};var o=n.errors?n.errors[0]:void 0,i=null;return i=(null===o||void 0===o?void 0:o.message)&&(null===o||void 0===o?void 0:o.dataPath)?'Error parsing configuration at "'.concat(o.dataPath,'": ').concat(o.message):(null===o||void 0===o?void 0:o.message)?"Error parsing configuration: ".concat(o.message):(null===o||void 0===o?void 0:o.dataPath)?'Error parsing configuration at "'.concat(o.dataPath,'"'):"Error parsing configuration",console.error(i),console.error("All configuration errors: ",n.errors),{isValid:r,errorMessage:i}}}]),t}(y)),j=a(7),P=a(10),k=a(72),S=a(36),N=a(16),C=r.a.createContext({config:null,activePage:null,error:null,setError:function(){},setActivePage:function(){},httpService:new y}),T=function(e){return function(t){return r.a.createElement(C.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},I=(a(131),function(){return r.a.createElement("div",{className:"app-loader cp-spinner cp-balls small"})}),_=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"hasPreviousPage",value:function(e){return void 0!==e&&("string"===typeof e?parseInt(e)>1:e>1)}},{key:"hasNextPage",value:function(e,t,a){return void 0===a||("string"===typeof e?parseInt(e):e)*("string"===typeof t?parseInt(t):t)<("string"===typeof a?parseInt(a):a)}}]),e}()),q=a(37),A=(a(132),function(e){return r.a.createElement("button",Object.assign({},e,{className:"button ".concat(e.className||""," ").concat(e.color||"")}),e.children)}),D=(a(133),function(){return r.a.createElement("div",{className:"app-infinite-loader cp-spinner cp-balls small"})}),U=(a(134),function(e){var t,a,n=e.callbacks,o=e.pagination,i=e.customLabels,l=(null===i||void 0===i?void 0:null===(t=i.pagination)||void 0===t?void 0:t.previousPageTitle)||"Previous page",s=(null===i||void 0===i?void 0:null===(a=i.pagination)||void 0===a?void 0:a.nextPageTitle)||"Next page";return r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(A,{disabled:!o.hasPreviousPage,onClick:function(){return n.previousPage()},title:l},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"})),r.a.createElement(A,{disabled:!o.hasNextPage,onClick:function(){return n.nextPage()},title:s},r.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true"})))}),R=(a(135),function(e){var t,a,o,i=e.items,l=e.fields,s=e.pagination,c=e.callbacks,u=e.customActions,d=e.customLabels,p=(null===d||void 0===d?void 0:null===(t=d.buttons)||void 0===t?void 0:t.editItem)||"Edit",m=(null===d||void 0===d?void 0:null===(a=d.buttons)||void 0===a?void 0:a.deleteItem)||"Delete",f=(null===d||void 0===d?void 0:null===(o=d.tableColumnHeaders)||void 0===o?void 0:o.actions)||"Actions",v={nextPage:c.getNextPage||function(){},previousPage:c.getPreviousPage||function(){}};function h(e,t){return r.a.createElement("tr",{key:"tr_".concat(t)},l.map((function(a,n){var o=b.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("td",{className:a.truncate?"truncate":"",key:"td_".concat(t,"_").concat(n)},function(e,t,a){if("boolean"===e.type&&(a=!!a),a&&"object"===typeof a)return"object";switch(e.type){case"text":return r.a.createElement("span",null,a);case"boolean":return r.a.createElement("div",{className:"bool ".concat(a?"true":"false")});case"image":return r.a.createElement("img",{src:a||"",alt:a||e.label||e.name});case"url":var n=e.url||a||"";return l.forEach((function(e){var a=b.extractDataByDataPath(t,e.dataPath,e.name);n=n.replace(":".concat(e.name),a)})),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e.urlLabel||a);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:a}});case"html":var o=(e.htmlCode||"<span>{value}</span>").replace("{value}",a);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}});default:return a}}(a,e,o))})),r.a.createElement("td",null,r.a.createElement("div",{className:"actions-wrapper"},c.put&&r.a.createElement(A,{onClick:function(){var t;return null===(t=c.put)||void 0===t?void 0:t.call(c,e)},title:p},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),u&&u.length>0&&u.map((function(a,n){return r.a.createElement(A,{key:"action_".concat(t,"_").concat(n),onClick:function(){return c.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),c.delete&&r.a.createElement(A,{onClick:function(){var t;return null===(t=c.delete)||void 0===t?void 0:t.call(c,e)},title:m},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))}function g(){return r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,l.map((function(e){return r.a.createElement("th",{key:"th_".concat(e.name)},e.label||e.name)})),r.a.createElement("th",null,f))),r.a.createElement("tbody",null,i.map(h)))}return Object(n.useEffect)((function(){"infinite-scroll"===(null===s||void 0===s?void 0:s.type)&&document.body.clientHeight<=window.innerHeight&&(null===s||void 0===s?void 0:s.hasNextPage)&&v.nextPage()}),[]),"infinite-scroll"===(null===s||void 0===s?void 0:s.type)?r.a.createElement(q.a,{dataLength:i.length,next:c.getNextPage||function(){return null},hasMore:(null===s||void 0===s?void 0:s.hasNextPage)||!1,loader:r.a.createElement(D,null)},g()):r.a.createElement("div",{className:"table-wrapper"},g(),s&&"buttons"===s.type&&r.a.createElement(U,{callbacks:v,pagination:s,customLabels:d}))}),L=a(73),B=a.n(L),M=(a(136),function(e){var t,a,o=e.items,i=e.fields,l=e.callbacks,s=e.customActions,c=e.customLabels,u=e.pagination,d=(null===c||void 0===c?void 0:null===(t=c.buttons)||void 0===t?void 0:t.editItem)||"Edit",p=(null===c||void 0===c?void 0:null===(a=c.buttons)||void 0===a?void 0:a.deleteItem)||"Delete",m={nextPage:l.getNextPage||function(){},previousPage:l.getPreviousPage||function(){}};function f(e,t){return r.a.createElement("div",{className:"actions-wrapper"},l.put&&r.a.createElement(A,{onClick:function(){var t;return null===(t=l.put)||void 0===t?void 0:t.call(l,e)},title:d},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),s&&s.length>0&&s.map((function(a,n){return r.a.createElement(A,{key:"action_".concat(t,"_").concat(n),onClick:function(){return l.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),l.delete&&r.a.createElement(A,{onClick:function(){var t;return null===(t=l.delete)||void 0===t?void 0:t.call(l,e)},title:p},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))}function v(e,t){return r.a.createElement("div",{className:"card",key:"card_".concat(t)},i.map((function(a,n){var o=b.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("div",{className:"card-row ".concat(a.type),key:"card_".concat(t,"_").concat(n)},"image"!==a.type&&r.a.createElement("label",null,a.label||a.name,": "),function(e,t,a){if("boolean"===e.type&&(a=!!a),a&&"object"===typeof a)return"object";switch(e.type){case"text":return r.a.createElement("span",null,a);case"boolean":return r.a.createElement("div",{className:"bool ".concat(a?"true":"false")});case"image":return a?r.a.createElement("img",{src:a||"",alt:a||e.label||e.name}):r.a.createElement(r.a.Fragment,null);case"url":var n=e.url||a||"";return i.forEach((function(e){var a=b.extractDataByDataPath(t,e.dataPath,e.name);n=n.replace(":".concat(e.name),a)})),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e.urlLabel||a);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:a}});case"html":var o=(e.htmlCode||"<span>{value}</span>").replace("{value}",a);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}});default:return a}}(a,e,o))})),f(e,t))}function h(e){return r.a.createElement("div",{className:"card",key:"card_".concat(e)},i.map((function(t,a){return r.a.createElement("div",{className:"card-row ".concat(t.type),key:"card_".concat(e,"_").concat(a)},"image"!==t.type&&r.a.createElement("label",null,t.label||t.name,": "),r.a.createElement(B.a,{duration:.6}))})),f({},e))}return Object(n.useEffect)((function(){"infinite-scroll"===(null===u||void 0===u?void 0:u.type)&&document.body.clientHeight<=window.innerHeight&&l.getNextPage&&(null===u||void 0===u?void 0:u.hasNextPage)&&l.getNextPage()}),[]),"infinite-scroll"===(null===u||void 0===u?void 0:u.type)?r.a.createElement(q.a,{className:"cards-wrapper",dataLength:o.length,next:l.getNextPage||function(){return null},hasMore:(null===u||void 0===u?void 0:u.hasNextPage)||!1,loader:function(){var e=o.length;return Array.from(Array(null===u||void 0===u?void 0:u.limit).keys()).map((function(t){return t+e})).map(h)}()},o.map(v)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cards-wrapper"},o.map(v)),u&&"buttons"===u.type&&r.a.createElement(U,{callbacks:m,pagination:u}))}),F=a(35),$=a(3),z=a.n($),H=(a(138),T((function(e){var t,a,o=e.context,i=e.field,l=e.loadedFields,u=e.direction,d=e.showReset,m=e.onChange,f=e.onRemove,v=Object(n.useState)({}),h=Object(c.a)(v,2),g=h[0],y=h[1],E=Object(n.useState)(),w=Object(c.a)(E,2),x=(w[0],w[1],o.httpService),O=o.activePage,k=o.config,N=(null===O||void 0===O?void 0:O.requestHeaders)||{},C=Object(P.a)({},null===k||void 0===k?void 0:k.customLabels,{},null===O||void 0===O?void 0:O.customLabels),T=(null===C||void 0===C?void 0:null===(t=C.buttons)||void 0===t?void 0:t.addArrayItem)||"Add Item",I=(null===C||void 0===C?void 0:null===(a=C.buttons)||void 0===a?void 0:a.clearInput)||"Clear";function _(e){var t=e.value||[];return r.a.createElement("div",{className:"array-form"},t.map((function(t,a){var n=q({value:t,name:"".concat(e.name,".").concat(a)},(function(t,n){var r=(e.value||[]).map((function(e,t){return t===a?n:e}));m(e.name,r)}));return r.a.createElement("div",{className:"array-form-item",key:"array_form_".concat(a)},n,r.a.createElement("i",{title:I,onClick:function(){return function(e,t){var a=Object(j.a)(e.value||[]);a.splice(t,1).forEach((function(e){f(i.name,e)})),m(i.name,a)}(e,a)},"aria-label":"Remove",className:"clear-input fa fa-times"}))})),r.a.createElement(A,{className:"add-array-item",onClick:function(t){return function(e,t){e.preventDefault(),m(i.name,[].concat(Object(j.a)(t.value||[]),[""]))}(t,e)},title:T,disabled:e.disabled||e.readonly},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))}function q(e,t){var a,n,o,i,c,u,d,m,f,v=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{value:e.value,placeholder:e.placeholder||a,disabled:e.readonly||e.disabled,required:e.required,onChange:function(a){return t(e.name,a.target.value)}}};switch(e.type){case"boolean":return r.a.createElement("input",Object.assign({type:"checkbox"},v(),{checked:e.value,onChange:function(a){return t(e.name,a.target.checked,!0)}}));case"select":var h,E=e.optionSource;if(E&&E.preLoad){var w=function(e,t){var a=Array(0).fill("");console.log("loaded"),console.log(l),l.map((function(e){e.fieldName===t.name&&(a=e.values)})),console.log(a);var n=new Array(a.length);return a.map((function(e,t){n[t]={display:e,value:e}})),console.log(n),{fieldname:e,options:n}}(e.name,E);return console.log(w),r.a.createElement("select",v(),r.a.createElement("option",null,z.a.select),w.options.map((function(e,t){var a="option_".concat(t,"_");return r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})))}if(E&&!g[e.name])return function(e,t){var a,n,r,o,i,l,c,u;s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,a=t.url,n=t.dataPath,r=t.preLoad,o=t.actualMethod,i=t.requestHeaders,a||r){d.next=4;break}throw new Error('URL option source (for field "'.concat(e,'") is empty.'));case 4:return d.next=6,s.a.awrap(x.fetch({method:o||"get",origUrl:a,queryParams:[],headers:Object.assign({},N,i||{})}));case 6:if(l=d.sent,(c=b.extractDataByDataPath(l,n))&&c.length){d.next=10;break}throw new Error('Option source data is empty (for field "'.concat(e,'")'));case 10:u=c.map((function(e,a){var n=t.valuePath,r=t.displayPath;return"string"===typeof e?e:{display:r&&e[r]?e[r]:"Option ".concat(a+1),value:n&&e[n]?e[n]:"".concat(a)}})),console.log(u),y(Object(P.a)({},g,Object(F.a)({},e,u))),d.next=18;break;case 15:d.prev=15,d.t0=d.catch(0),p.b.error(d.t0.message,{position:p.b.POSITION.TOP_CENTER});case 18:case"end":return d.stop()}}),null,null,[[0,15]])}(e.name,E),r.a.createElement("select",v(),r.a.createElement("option",null,"-- Loading Options... --"));var O=null===(h=e.optionSource)||void 0===h?void 0:h.sortBy,j=g[e.name]||e.options||[],k=Object(S.a)(j,"string"===typeof O?[O]:O||[]);return console.log("final option"),console.log(j),console.log("sorted option"),console.log(k),r.a.createElement("select",v(),r.a.createElement("option",null,z.a.select),k.map((function(e,t){var a="option_".concat(t,"_");return"object"!==typeof e?r.a.createElement("option",{key:"".concat(a,"_").concat(e),value:e},e):r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})));case"object":return r.a.createElement("textarea",v((null===C||void 0===C?void 0:null===(a=C.placeholders)||void 0===a?void 0:a.object)||"Enter JSON..."));case"array":var T,I=e.arrayType;return e.value&&I&&"object"!==I?_(e):r.a.createElement("textarea",v((null===C||void 0===C?void 0:null===(T=C.placeholders)||void 0===T?void 0:T.array)||"Enter JSON array..."));case"long-text":return r.a.createElement("textarea",v((null===C||void 0===C?void 0:null===(n=C.placeholders)||void 0===n?void 0:n.text)||z.a.enter_text));case"number":case"integer":return r.a.createElement("input",Object.assign({type:"number"},v((null===C||void 0===C?void 0:null===(o=C.placeholders)||void 0===o?void 0:o.number)||"0"),{onChange:function(a){return t(e.name,a.target.valueAsNumber)}}));case"color":return r.a.createElement("input",Object.assign({type:"color"},v((null===C||void 0===C?void 0:null===(i=C.placeholders)||void 0===i?void 0:i.color)||z.a.enter_color)));case"email":return r.a.createElement("input",Object.assign({type:"email"},v((null===C||void 0===C?void 0:null===(c=C.placeholders)||void 0===c?void 0:c.email)||z.a.enter_email)));case"password":return r.a.createElement("input",Object.assign({type:"password"},v((null===C||void 0===C?void 0:null===(u=C.placeholders)||void 0===u?void 0:u.password)||z.a.enter_password)));case"hidden":return r.a.createElement("input",{type:"hidden",value:e.value});case"file":return r.a.createElement("input",{type:"file",accept:e.accept||"*",placeholder:e.placeholder||(null===C||void 0===C?void 0:null===(d=C.placeholders)||void 0===d?void 0:d.file)||"Select file...",name:e.name||"file",disabled:e.readonly,required:e.required});case"note":return r.a.createElement("p",{className:"note"},e.value);case"date":return r.a.createElement("input",Object.assign({type:"date"},v((null===C||void 0===C?void 0:null===(m=C.placeholders)||void 0===m?void 0:m.date)||z.a.enter_date)));case"text":default:return r.a.createElement("input",Object.assign({type:"text"},v((null===C||void 0===C?void 0:null===(f=C.placeholders)||void 0===f?void 0:f.text)||z.a.enter_text)))}}return r.a.createElement("div",{className:"form-row ".concat(u||"row")},"hidden"!==i.type&&r.a.createElement("label",null,i.label||i.originalName,i.required?" *":""),q(i,m),d&&!i.readonly&&i.value&&i.value.length>0&&r.a.createElement("i",{title:I,onClick:function(){return m(i.name,"",!0)},"aria-label":"Clear",className:"clear-input fa fa-times"}),r.a.createElement(p.a,null))}))),J=(a(62),function(e){var t=e.initialParams,a=e.paginationConfig,o=e.submitCallback,i=Object(n.useState)(t),l=Object(c.a)(i,2),s=l[0],u=l[1];function d(e){e&&e.preventDefault(),a&&"infinite-scroll"===a.type?o(s,!0):o(s)}function p(e,t,a){var n=Object(j.a)(s).map((function(a){return a.name===e&&(a.value=t),a}));u(n),a&&d()}return Object(n.useEffect)((function(){if(a&&"infinite-scroll"===a.type){var e=t.filter((function(e){return!["page","limit"].includes(e.name)}));u(e)}else u(t)}),[a,t]),s.length?r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,z.a.search),r.a.createElement("form",{onSubmit:d},s.map((function(e,t){return"page"==e.name?"":r.a.createElement(H,{key:"query_param_".concat(t),field:e,onChange:p,showReset:!e.type||"text"===e.type})})),r.a.createElement(A,{type:"submit",onClick:d},z.a.submit))):r.a.createElement(r.a.Fragment,null)}),W=(a(141),document.getElementById("popup-portal"));W||((W=document.createElement("div")).setAttribute("id","popup-portal"),document.body.append(W));var G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).el=void 0,a.componentDidMount=function(){W.appendChild(a.el)},a.componentWillUnmount=function(){W.removeChild(a.el)},a.el=document.createElement("div"),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createPortal(this.props.children,this.el)}}]),t}(n.Component),Q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))))._handleKeyDown=function(e){var t=a.props,n=t.show,r=t.closeCallback;n&&27===e.keyCode&&r(e)},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t,a=this,n=Object.assign({},{display:this.props.show?"block":"none"},this.props.style||{}),o=(null===(e=this.props.customLabels)||void 0===e?void 0:null===(t=e.buttons)||void 0===t?void 0:t.closeForm)||"Close";return r.a.createElement(G,null,this.props.show?r.a.createElement("div",{className:"popup ".concat(this.props.className||""),style:n},r.a.createElement("div",{className:"overlay",onClick:function(e){return a.props.closeCallback(e)}}),r.a.createElement("div",{className:"popup-content",ref:this.props.refCallback},this.props.children,r.a.createElement("button",{title:o,className:"close-popup",onClick:function(e){return a.props.closeCallback(e)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))):null)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleKeyDown.bind(this))}}]),t}(n.Component),V=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"isMultipartForm",value:function(e){for(var t in e){if("file"===e[t].type)return!0}return!1}}]),e}()),Y=(a(142),a(143).unflatten),K=T((function(e){var t=e.context,a=e.title,o=e.fields,i=e.loadedFields,l=e.rawData,u=e.type,d=e.getSingleConfig,m=e.methodConfig,f=e.submitCallback,v=e.closeCallback,h=JSON.parse(JSON.stringify(o)),g=t.httpService,y=t.activePage,E=t.config,w=Object(n.useState)(!0),x=Object(c.a)(w,2),O=x[0],k=x[1],S=Object(n.useState)([]),N=Object(c.a)(S,2),C=N[0],T=N[1],_=Object(n.useState)([]),q=Object(c.a)(_,2),D=q[0],U=q[1],R=Object(n.useState)(null),L=Object(c.a)(R,2),B=L[0],M=L[1],F=(null===y||void 0===y?void 0:y.requestHeaders)||{},$=Object(P.a)({},null===E||void 0===E?void 0:E.customLabels,{},null===y||void 0===y?void 0:y.customLabels);function J(e){var t,a,n,r,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),t=m.includeOriginalFields?Object.assign({},B):{},a=new FormData,n=V.isMultipartForm(C),r=null,o=[],C.forEach((function(i){if("file"!==i.type){if(t[i.name]=i.value,n&&!i.useInUrl&&a.append(i.name,i.value),i.required&&"boolean"!==i.type&&!i.value&&0!=i.value&&(r="Please fill up all required fields."),b.checkIfFieldIsObject(i)&&i.value)try{t[i.name]=JSON.parse(i.value)}catch(e){r='Invalid JSON for field "'.concat(i.name,'".')}if(!0===i.disabled&&(delete t[i.name],console.log(t)),"boolean"===i.type&&(t[i.name]=i.value||!1),"add"!==u&&"array"===i.type&&"text"===i.arrayType){var l="{",s=D.filter((function(e){return e.fieldName===i.name}));s=s.filter((function(e){return""!==e.value})),console.log(s),0!==i.value.length&&(l+=' "add": ["'+i.value.join('" , "')+'"]'),0!==i.value.length&&0!==s.length&&(l+=","),0!==s.length&&(l+='"remove": ["'+s.map((function(e){return e.value})).join('" , "')+'"]'),l+="}",t[i.name]=JSON.parse(l)}"encode"===i.type&&(t[i.name]=encodeURIComponent(i.value)),i.useInUrl&&o.push({name:i.name,value:i.value})}else{var c=document.querySelector('input[name="'.concat(i.name||"file",'"]'));if(c.files.length>0){var d=c.files[0];a.append(i.name||"file",d,d.name)}}})),!r){l.next=10;break}return p.b.error(r,{position:p.b.POSITION.TOP_CENTER}),l.abrupt("return");case 10:return k(!0),l.prev=11,i=n?a:Y(t),l.next=15,s.a.awrap(f(i,n,o));case 15:p.b.success("Great Success!",{position:p.b.POSITION.TOP_CENTER}),v(!0),l.next=22;break;case 19:l.prev=19,l.t0=l.catch(11),p.b.error(l.t0.message,{position:p.b.POSITION.TOP_CENTER});case 22:k(!1);case 23:case"end":return l.stop()}}),null,null,[[11,19]])}function W(e,t){var a=JSON.parse(JSON.stringify(C));a=a.map((function(a){return a.name===e&&(a.value=t),a})),T(a)}function G(e,t){var a=Object(j.a)(D);a.push({fieldName:e,value:t}),U(a)}return Object(n.useEffect)((function(){!function(){var e,t,a,n,r,o,i,c,u,m;s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=l||{},!d||!d.url){f.next=19;break}return f.prev=2,t=d.url,a=d.requestHeaders,n=d.actualMethod,r=d.dataPath,o=d.queryParams,i=d.responseType,c=d.dataTransform,f.next=6,s.a.awrap(g.fetch({method:n||"get",origUrl:t,queryParams:o,headers:Object.assign({},F,a||{}),rawData:l,responseType:i}));case 6:if(u=f.sent,m=b.extractDataByDataPath(u,r),"function"!==typeof c){f.next=12;break}return f.next=11,s.a.awrap(c(m));case 11:m=f.sent;case 12:!m||"object"!==typeof m&&"string"!==typeof m||(e=m),f.next=19;break;case 15:f.prev=15,f.t0=f.catch(2),console.error("Could not load single item's data.",f.t0),p.b.error("Could not load single item's data.",{position:p.b.POSITION.TOP_CENTER});case 19:M(e),T(h.map((function(t){var a=t.name;t.originalName=t.name;var n=[];t.dataPath&&(n=t.dataPath.split("."),a="".concat(t.dataPath,".").concat(t.name));var r=function(){var a=e,r=!0,o=!1,i=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;if(void 0===a[c]||null===a[c])return;a=a[c]}}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return a[t.name]}();return t.name=a,b.checkIfFieldIsObject(t)?((r||t.value)&&(t.value=JSON.stringify(r||t.value,null,"  ")||""),t):"array"===t.type?(t.value=r||t.value||[],t):(t.value="undefined"!==typeof r?r:"undefined"===typeof t.value?"":t.value,"long-text"!==t.type&&"text"!==t.type||"string"!==typeof e||(t.value=e),t)}))),k(!1);case 22:case"end":return f.stop()}}),null,null,[[2,15]])}()}),[]),r.a.createElement(Q,{show:!0,className:"form-popup",closeCallback:function(){return v(!1)},customLabels:$},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("section",null,O?r.a.createElement(I,null):r.a.createElement("form",{onSubmit:J},C.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(H,{key:"field_".concat(t),field:e,loadedFields:i,onChange:W,onRemove:G,showReset:!e.type||"text"===e.type}),r.a.createElement("br",null),r.a.createElement("hr",null))})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(A,{type:"submit",onClick:J,color:"green"},z.a.submit)))),r.a.createElement(p.a,null)))})),X=(a(145),function(e){var t=e.onChange;return r.a.createElement("section",{className:"filter-wrapper"},r.a.createElement("h5",null,"Filter:"),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Search...",onChange:function(e){return t(e.target.value.toLowerCase())}})))}),Z=function(e){return"query"===e.source},ee=function(e){return"body"===e.source},te=function(e){return"query"===e.source},ae=function(e){return"body"===e.source},ne=(a(42),a(146),a(21)),re=(a(167),a(168),T((function(e){var t=e.dataMat,a=e.prev,o=e.prevCallback,i=e.next,l=e.nextCallback,s=e.zoomIn,u=e.zoomInCallback,d=e.zoomOut,m=e.zoomOutCallback;Object(n.useEffect)((function(){w(Array(t.length).fill({date:"",y:""})),g(Array(t.length).fill(!1))}),[]);var f=Object(n.useState)(Array(1).fill(!1)),v=Object(c.a)(f,2),h=v[0],g=v[1],b=Object(n.useState)(Array(0)),y=Object(c.a)(b,2),E=y[0],w=y[1];function x(e,t){var a=Object(j.a)(h),n=a[e];n=t,a[e]=n,g(a)}return r.a.createElement("div",{className:"graphHolder"},r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(A,{className:"button-margin",title:z.a.previous_page,onClick:function(){return o()},disabled:!a},r.a.createElement("i",{className:"fa fa-backward","aria-hidden":"true"})),r.a.createElement(A,{className:"button-margin",title:z.a.next_page,onClick:function(){return l()},disabled:!i},r.a.createElement("i",{className:"fa fa-forward","aria-hidden":"true"})),r.a.createElement(A,{className:"button-margin",title:z.a.zoomIn,onClick:function(){return u()},disabled:!s},r.a.createElement("i",{className:"fa fa-search-plus","aria-hidden":"true"})),r.a.createElement(A,{className:"button-margin",title:z.a.zoomOut,onClick:function(){return m()},disabled:!d},r.a.createElement("i",{className:"fa fa-search-minus","aria-hidden":"true"}))),r.a.createElement("br",null),t.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("h2",null,e.nameStruct),r.a.createElement("br",null),r.a.createElement(ne.f,{width:1600,height:600,xType:"ordinal",onMouseLeave:function(){return x(t,!1)}},r.a.createElement(ne.d,null),r.a.createElement(ne.b,null),r.a.createElement(ne.e,{title:"t",tickTotal:7,tickFormat:function(e){return new Date(+e).toString().substr(4,6)}}),r.a.createElement(ne.g,{title:e.unitMeasure}),r.a.createElement(ne.c,{data:e.dataStruct,onValueMouseOver:function(e){x(t,!0),function(e,t){var a=Object(j.a)(E),n=a[e];n=t,a[e]=n,w(a)}(t,{x:e.x.toString(),y:e.y.toString()}),console.log(e)}}),h[t]&&r.a.createElement(ne.a,{value:E[t]},r.a.createElement("div",{style:{background:"grey"}},"Start time: "+new Date(+E[t].x).toString(),r.a.createElement("br",null),z.a.value+": "+E[t].y))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null))})),r.a.createElement(p.a,null))}))),oe=(a(169),T((function(e){var t=e.context,a=e.title,o=e.fields,i=e.graphConfig,l=e.closeCallback,u=JSON.parse(JSON.stringify(o)),d=t.httpService,p=t.activePage,m=t.config,f=Object(n.useState)(!0),v=Object(c.a)(f,2),h=v[0],g=v[1],y=Object(n.useState)(!0),E=Object(c.a)(y,2),w=E[0],x=E[1],O=Object(n.useState)(!1),k=Object(c.a)(O,2),S=k[0],N=k[1],C=Object(n.useState)(a),T=Object(c.a)(C,2),_=T[0],q=T[1],D=Object(n.useState)(u),U=Object(c.a)(D,2),R=U[0],L=U[1],B=Object(n.useState)(),M=Object(c.a)(B,2),F=M[0],$=M[1],J=Object(n.useState)(),W=Object(c.a)(J,2),G=W[0],V=W[1],Y=Object(n.useState)(),K=Object(c.a)(Y,2),X=K[0],Z=K[1],ee=Object(n.useState)(),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],oe=Object(n.useState)(),ie=Object(c.a)(oe,2),le=ie[0],se=ie[1],ce=Object(n.useState)(),ue=Object(c.a)(ce,2),de=ue[0],pe=ue[1],me=Object(n.useState)(!0),fe=Object(c.a)(me,2),ve=fe[0],he=fe[1],ge=Object(n.useState)(1),be=Object(c.a)(ge,2),ye=be[0],Ee=be[1],we=Object(n.useState)(0),xe=Object(c.a)(we,2),Oe=xe[0],je=xe[1],Pe=Object(n.useState)(),ke=Object(c.a)(Pe,2),Se=ke[0],Ne=ke[1],Ce=Object(n.useState)(null),Te=Object(c.a)(Ce,2),Ie=(Te[0],Te[1]),_e=Object(n.useState)(null),qe=Object(c.a)(_e,2),Ae=qe[0],De=qe[1],Ue=Object(n.useState)(0),Re=Object(c.a)(Ue,2),Le=(Re[0],Re[1]),Be=Object(n.useState)(0),Me=Object(c.a)(Be,2),Fe=Me[0],$e=Me[1],ze=Object(P.a)({},null===m||void 0===m?void 0:m.customLabels,{},null===p||void 0===p?void 0:p.customLabels);function He(e,t,a){var n=Object(j.a)(R).map((function(a){return a.name===e&&(a.value=t),a}));L(n),a&&Ve()}function Je(){var e,t,a,n,r,o,l,c,u,p=arguments;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=p.length>0&&void 0!==p[0]&&p[0],m.next=3,s.a.awrap(d.fetch({method:"get",origUrl:i.url,queryParams:R,exactMatch:!0,headers:{"content-type":"application/json"}}));case 3:if(t=m.sent,a=Ae,!0!==e){m.next=13;break}return"",R.map((function(e){return"feature"===e.name?e.value:{}})),m.next=10,s.a.awrap(d.fetch({method:"get",origUrl:"/features/",queryParams:R.filter((function(e){return"feature"===e.name&&(e.name="_id")})),exactMatch:!0,headers:{"content-type":"application/json"}}));case 10:n=m.sent,R.filter((function(e){return"_id"===e.name&&(e.name="feature")})),a=b.extractDataByDataPath(n,"docs");case 13:return r=t.page,o=t.totalPages,l=t.totalDocs,c=t.limit,u=b.extractDataByDataPath(t,i.dataPath),m.abrupt("return",{fetchedData:u,fetchedFeature:a,pageNum:r,totalPages:o,totalDocs:l,limit:c});case 19:case"end":return m.stop()}}))}function We(e,t){var a=new Array,n=new Array,r=new Array;if(t.map((function(e){return e.items.map((function(e,t){if(0!==e.dimension||"number"!==e.type)return null;a.push(t),n.push(e.name),r.push(e.unit)}))})),0===a.length)return g(!1),null;for(var o=new Array(a.length),i=0;i<o.length;i++)o[i]=new Array;e.map((function(e){return e.samples.map((function(t){return t.values.map((function(t,n){a.includes(n)&&o[a.indexOf(n)].push({x:Date.parse(e.startDate),y:t})}))}))}));var l=Array();for(i=0;i<n.length;i++)l[i]={nameStruct:n[i],dataStruct:o[i].reverse(),unitMeasure:r[i]};return l}function Ge(e,t){var a,n,r,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(a=e).filter((function(e){return"page"===e.name&&(e.value=1+parseInt(e.value)+"")})),l.next=4,s.a.awrap(d.fetch({method:"get",origUrl:i.url,queryParams:a,exactMatch:!0,headers:{"content-type":"application/json"}}));case 4:return n=l.sent,r=b.extractDataByDataPath(n,i.dataPath),a.filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)-1+"")})),o=We(r,t),l.abrupt("return",o);case 9:case"end":return l.stop()}}))}function Qe(e,t){var a,n,r,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(a=e).filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)-1+"")})),l.next=4,s.a.awrap(d.fetch({method:"get",origUrl:i.url,queryParams:a,exactMatch:!0,headers:{"content-type":"application/json"}}));case 4:return n=l.sent,r=b.extractDataByDataPath(n,i.dataPath),a.filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)+1+"")})),o=We(r,t),l.abrupt("return",o);case 9:case"end":return l.stop()}}))}function Ve(){var e,t,a,n,r,o,i,l,c,u,d,p,m,f;return s.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return g(!0),x(!0),console.log("Entered submitGraph"),v.next=5,s.a.awrap(Je(!0));case 5:if(e=v.sent,t=e.fetchedData,a=e.fetchedFeature,n=e.pageNum,r=e.totalPages,o=e.totalDocs,i=e.limit,Ie(t),De(a),Ee(n),je(r),Le(o),$e(i),null!==(l=We(t,a))){v.next=22;break}return Ne(z.a.wrong_feature_error),v.abrupt("return");case 22:if(0!==l[0].dataStruct.length){v.next=26;break}return Ne(z.a.no_data_error),g(!1),v.abrupt("return");case 26:if($(l),u=n<r,d=i>3,p=i<o,ne(c=n>1),se(u),pe(d),he(p),N(!0),q(z.a.graph+" "+a[0]._id),g(!1),m=null,f=null,!0!==u){v.next=44;break}return v.next=43,s.a.awrap(Ge(R,a));case 43:m=v.sent;case 44:if(!0!==c){v.next=48;break}return v.next=47,s.a.awrap(Qe(R,a));case 47:f=v.sent;case 48:V(m),Z(f);case 50:case"end":return v.stop()}}))}function Ye(){var e,t,a,n,r,o,i,l,c,u,d,p,m;return s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,s.a.awrap(Je());case 2:if(e=f.sent,t=e.fetchedData,a=e.pageNum,n=e.totalPages,r=e.totalDocs,o=e.limit,console.log("Entered BuildMain"),g(!0),Ee(a),je(n),null!==(i=We(t,Ae))){f.next=16;break}return Ne(z.a.wrong_feature_error),f.abrupt("return");case 16:if(0!==i[0].dataStruct.length){f.next=20;break}return Ne(z.a.no_data_error),g(!1),f.abrupt("return");case 20:if($(i),c=a<n,u=o>3,d=o<r,ne(l=a>1),se(c),pe(u),he(d),Le(r),$e(o),g(!1),p=null,m=null,!0!==c){f.next=38;break}return f.next=37,s.a.awrap(Ge(R,Ae));case 37:p=f.sent;case 38:if(!0!==l){f.next=42;break}return f.next=41,s.a.awrap(Qe(R,Ae));case 41:m=f.sent;case 42:V(p),Z(m);case 44:case"end":return f.stop()}}))}return Object(n.useEffect)((function(){g(!1),x(!1),N(!1)}),[]),r.a.createElement(Q,{show:!0,className:"graph-popup",closeCallback:function(){return l(!1)},customLabels:ze},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,_),h?r.a.createElement(I,null):w?S?r.a.createElement(re,{dataMat:F,prev:le,prevCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),console.log("Entered PrevShifting"),Z(F),$(G),g(!1),se(ye+1<Oe),ne(ye+1>1),Ee(ye+1),t.next=10,s.a.awrap(Ge(R,Ae));case 10:e=t.sent,V(e);case 12:case"end":return t.stop()}}))},next:ae,nextCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),console.log("Entered NextShifting"),V(F),$(X),se(ye-1<Oe),ne(ye-1>1),Ee(ye-1),t.next=9,s.a.awrap(Qe(R,Ae));case 9:e=t.sent,Z(e);case 11:case"end":return t.stop()}}))},zoomIn:de,zoomInCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:g(!0),console.log("Entered Decrease Sample"),(e=R).filter((function(e){return"limit"===e.name&&(e.value=Fe-2+"")})),L(e),Ye(),g(!1);case 7:case"end":return t.stop()}}))},zoomOut:ve,zoomOutCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:g(!0),console.log("Entered Increase Sample"),(e=R).filter((function(e){return"limit"===e.name&&(e.value=2+Fe+"")})),L(e),Ye(),g(!1);case 7:case"end":return t.stop()}}))}}):r.a.createElement("h1",null,Se):r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,z.a.graph),r.a.createElement("form",{onSubmit:Ve},R.map((function(e,t){return"page"==e.name?"":r.a.createElement(H,{key:"query_param_".concat(t),field:e,onChange:He,showReset:!e.type||"text"===e.type})})),r.a.createElement(A,{type:"submit",onClick:Ve},z.a.submit)))))}))),ie=function(e,t){var a=void 0;if(t)if(te(t)){var n,r,o,i,l,s,c,u,d,p,m,f,v,h,g,b,y,E,w;if(a={source:t.source,type:t.type,page:parseInt((null===(n=t.params)||void 0===n?void 0:null===(r=n.page)||void 0===r?void 0:r.value)||"1"),limit:parseInt((null===(o=t.params)||void 0===o?void 0:null===(i=o.limit)||void 0===i?void 0:i.value)||"10"),descending:"true"===(null===(l=t.params)||void 0===l?void 0:null===(s=l.descending)||void 0===s?void 0:s.value)||!1,hasPreviousPage:!1,hasNextPage:!1,sortBy:null===(c=t.params)||void 0===c?void 0:null===(u=c.sortBy)||void 0===u?void 0:u.value},!Object(N.find)(e,{name:"page"}))e.push({name:null===t||void 0===t?void 0:null===(f=t.params)||void 0===f?void 0:null===(v=f.page)||void 0===v?void 0:v.name,label:(null===t||void 0===t?void 0:null===(h=t.params)||void 0===h?void 0:null===(g=h.page)||void 0===g?void 0:g.label)||"Page",value:null===(b=a)||void 0===b?void 0:b.page});if((null===t||void 0===t?void 0:null===(d=t.params)||void 0===d?void 0:d.limit)&&!Object(N.find)(e,{name:"limit"}))e.push({name:t.params.limit.name,label:t.params.limit.label||"Limit",value:null===(y=a)||void 0===y?void 0:y.limit});if((null===t||void 0===t?void 0:null===(p=t.params)||void 0===p?void 0:p.descending)&&!Object(N.find)(e,{name:"descending"}))e.push({name:t.params.descending.name,label:t.params.descending.label||"Descending",value:null===(E=a)||void 0===E?void 0:E.descending});if((null===t||void 0===t?void 0:null===(m=t.params)||void 0===m?void 0:m.sortBy)&&!Object(N.find)(e,{name:"sortBy"}))e.push({name:t.params.sortBy.name,label:"Sort by",value:null===(w=a)||void 0===w?void 0:w.sortBy})}else{if(!ae(t))throw new Error("unrecognized pagination");var x,O,j,P;a={source:"body",type:t.type,hasNextPage:!1,hasPreviousPage:!1,next:null,previous:null,limit:parseInt((null===(x=t.params)||void 0===x?void 0:null===(O=x.limit)||void 0===O?void 0:O.value)||"10")},(null===t||void 0===t?void 0:null===(j=t.params)||void 0===j?void 0:j.limit)&&!Object(N.find)(e,{name:"limit"})&&e.push({name:t.params.limit.name,label:t.params.limit.label||"Limit",value:null===(P=a)||void 0===P?void 0:P.limit})}return{initQueryParams:e,initialPagination:a}},le=T((function(e){var t,a,o,i,l,u=e.context,m=e.loadedFields,f=Object(d.h)().page,v=Object(d.g)(),h=v.push,g=v.location,y=u.activePage,E=u.error,w=u.setError,x=u.httpService,O=u.config,C=(null===y||void 0===y?void 0:y.requestHeaders)||{},T=null===y||void 0===y?void 0:y.methods,q=(null===y||void 0===y?void 0:y.customActions)||[],D=null===T||void 0===T?void 0:T.getAll,U=null===D||void 0===D?void 0:D.pagination,L="infinite-scroll"===(null===U||void 0===U?void 0:U.type),B=null===T||void 0===T?void 0:T.getSingle,F=null===T||void 0===T?void 0:T.post,$=null===T||void 0===T?void 0:T.graph,H=null===T||void 0===T?void 0:T.put,W=null===T||void 0===T?void 0:T.delete,G=Object(P.a)({},null===O||void 0===O?void 0:O.customLabels,{},null===y||void 0===y?void 0:y.customLabels),Q=(null===G||void 0===G?void 0:null===(t=G.buttons)||void 0===t?void 0:t.addItem)||"+ "+z.a.add+" "+(null===y||void 0===y?void 0:y.itemName),V=z.a.graph+" "+(null===y||void 0===y?void 0:y.itemName),Y=(null===G||void 0===G?void 0:null===(a=G.formTitles)||void 0===a?void 0:a.addItem)||z.a.add+" "+(null===y||void 0===y?void 0:y.itemName),ne=(null===G||void 0===G?void 0:null===(o=G.formTitles)||void 0===o?void 0:o.editItem)||z.a.update+" "+(null===y||void 0===y?void 0:y.itemName),re=z.a.graph+" "+(null===y||void 0===y?void 0:y.itemName),le=ie((null===D||void 0===D?void 0:D.queryParams)||[],U),se=le.initQueryParams,ce=le.initialPagination,ue=Object(n.useState)(!1),de=Object(c.a)(ue,2),pe=de[0],me=de[1],fe=Object(n.useState)(null),ve=Object(c.a)(fe,2),he=ve[0],ge=ve[1],be=Object(n.useState)(null),ye=Object(c.a)(be,2),Ee=ye[0],we=ye[1],xe=Object(n.useState)(se),Oe=Object(c.a)(xe,2),je=Oe[0],Pe=Oe[1],ke=Object(n.useState)(ce),Se=Object(c.a)(ke,2),Ne=Se[0],Ce=Se[1],Te=Object(n.useState)([]),Ie=Object(c.a)(Te,2),_e=Ie[0],qe=Ie[1],Ae=Object(n.useState)(""),De=Object(c.a)(Ae,2),Ue=De[0],Re=De[1];function Le(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:ge({rawData:e,type:"update",title:ne,config:H,getSingleConfig:B,submitCallback:function(t,a){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(He(t,e,a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}});case 2:case"end":return t.stop()}}))}function Be(e,t){var a={rawData:e,type:"action",title:t.name||"Custom Action",config:t,submitCallback:function(a,n){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(Me(a,e,t,n));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))}};ge(a)}function Me(e,t,a,n){var r,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=a.url,o=a.requestHeaders,i=a.actualMethod,l.next=3,s.a.awrap(x.fetch({method:i||"put",origUrl:r,rawData:t,body:n?e:JSON.stringify(e),headers:Object(P.a)({},C,{},o||{},{},n?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}))}function Fe(e){var t,a,n,r,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.a.awrap(x.fetch({method:e.actualMethod||"get",origUrl:e.url,queryParams:je,headers:Object.assign({},C,e.requestHeaders||{})}));case 2:if(t=l.sent,a=b.extractDataByDataPath(t,e.dataPath)){l.next=6;break}throw new Error("Could not extract data from response.");case 6:if(Array.isArray(a)){l.next=8;break}throw new Error("Extracted data is invalid.");case 8:if("function"!==typeof e.dataTransform){l.next=12;break}return l.next=11,s.a.awrap(e.dataTransform(a));case 11:a=l.sent;case 12:n=Object(S.a)(a,"string"===typeof e.sortBy?[e.sortBy]:e.sortBy||[]),U&&(o=(null===(r=U.fields)||void 0===r?void 0:r.total)?b.extractDataByDataPath(t,U.fields.total.dataPath):void 0,(i=Ge(je,t,o))&&Ce(i)),qe(L?[].concat(Object(j.a)(_e),Object(j.a)(n)):n);case 15:case"end":return l.stop()}}))}function $e(){var e,t,a,n,r,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!L){i.next=13;break}if(!Ne){i.next=11;break}if(!Z(Ne)){i.next=6;break}1!==(null===Ne||void 0===Ne?void 0:Ne.page)&&me(!1),i.next=11;break;case 6:if(!ee(Ne)){i.next=10;break}Ne.previous&&me(!1),i.next=11;break;case 10:throw new Error("unrecognized pagination source");case 11:i.next=14;break;case 13:me(!0);case 14:if(w(null),i.prev=15,D){i.next=18;break}throw new Error("Get all method is not defined.");case 18:if(!U||Ne){i.next=20;break}throw new Error("Pagination not initialized.");case 20:return e=D.url,t=D.requestHeaders,a=D.actualMethod,n=D.dataPath,r=D.sortBy,o=D.dataTransform,i.next=23,s.a.awrap(Fe({actualMethod:a,url:e,requestHeaders:t,dataPath:n,dataTransform:o,sortBy:r}));case 23:i.next=28;break;case 25:i.prev=25,i.t0=i.catch(15),w(i.t0.message);case 28:me(!1);case 29:case"end":return i.stop()}}),null,null,[[15,25]])}function ze(e,t,a){var n,r,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(F){i.next=2;break}throw new Error("Post method is not defined.");case 2:return n=F.url,r=F.requestHeaders,o=F.actualMethod,i.next=5,s.a.awrap(x.fetch({method:o||"post",origUrl:n,queryParams:a,body:t?e:JSON.stringify(e),headers:Object(P.a)({},C,{},r||{},{},t?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}))}function He(e,t,a){var n,r,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(H){i.next=2;break}throw new Error("Put method is not defined.");case 2:return n=H.url,r=H.requestHeaders,o=H.actualMethod,i.next=5,s.a.awrap(x.fetch({method:o||"put",origUrl:n,rawData:t,body:a?e:JSON.stringify(e),headers:Object(P.a)({},C,{},r||{},{},a?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}))}function Je(e){var t,a,n,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(window.confirm("Are you sure you want to delete this item?")){o.next=3;break}return o.abrupt("return");case 3:if(o.prev=3,W){o.next=6;break}throw new Error("Delete method is not defined.");case 6:return t=W.url,a=W.requestHeaders,n=W.actualMethod,o.next=9,s.a.awrap(x.fetch({method:n||"delete",origUrl:t,rawData:e,headers:Object.assign({},C,a||{}),responseType:"boolean"}));case 9:o.sent&&("infinite-scroll"===(null===Ne||void 0===Ne?void 0:Ne.type)?(qe([]),r=Object(j.a)(je),Object(N.remove)(r,(function(e){return["page","limit"].includes(e.name)})),Pe(ie(r,U).initQueryParams)):$e()),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(3),p.b.error(o.t0.message,{position:p.b.POSITION.TOP_CENTER});case 16:case"end":return o.stop()}}),null,null,[[3,13]])}function We(e,t){if(!pe){t&&(qe([]),Object(N.remove)(e,(function(e){return["page","limit"].includes(e.name)})),e=ie(e,U).initQueryParams),e.map((function(e,t){"select"===e.type&&e.value===z.a.select&&(e.value="")})),Pe(e),Ce(Ge(e,null));var a=Object(j.a)(e);"infinite-scroll"===(null===U||void 0===U?void 0:U.type)&&(a=a.filter((function(e){return!["page","limit"].includes(e.name)})));var n=a.map((function(e,t){return"".concat(0===t?"?":"").concat(e.name,"=").concat(encodeURIComponent(e.value||""))})).join("&");f&&n&&h(n)}}function Ge(e,t,a){if(U){if(te(U)){var n,r,o,i,l,s,c,u,d,p,m,f;if(Ne&&!Z(Ne))throw new Error("unexpected pagination source "+Ne.source);var v=Ne||{source:"query",type:U.type,page:parseInt((null===(n=U.params)||void 0===n?void 0:null===(r=n.page)||void 0===r?void 0:r.value)||"1"),limit:parseInt((null===(o=U.params)||void 0===o?void 0:null===(i=o.limit)||void 0===i?void 0:i.value)||"10"),descending:"true"===(null===(l=U.params)||void 0===l?void 0:null===(s=l.descending)||void 0===s?void 0:s.value)||!1,hasPreviousPage:!1,hasNextPage:!1,sortBy:null===(c=U.params)||void 0===c?void 0:null===(u=c.sortBy)||void 0===u?void 0:u.value};return v.total=a||(null===Ne||void 0===Ne?void 0:Ne.total),v.page=parseInt(null===(d=e.find((function(e){var t,a;return e.name===(null===U||void 0===U?void 0:null===(t=U.params)||void 0===t?void 0:null===(a=t.page)||void 0===a?void 0:a.name)})))||void 0===d?void 0:d.value)||v.page,v.limit=parseInt(null===(p=e.find((function(e){var t,a;return e.name===(null===U||void 0===U?void 0:null===(t=U.params)||void 0===t?void 0:null===(a=t.limit)||void 0===a?void 0:a.name)})))||void 0===p?void 0:p.value)||v.limit,v.descending="true"===(null===(m=e.find((function(e){var t,a;return e.name===(null===U||void 0===U?void 0:null===(t=U.params)||void 0===t?void 0:null===(a=t.descending)||void 0===a?void 0:a.name)})))||void 0===m?void 0:m.value)||v.descending,v.sortBy=(null===(f=e.find((function(e){var t,a;return e.name===(null===U||void 0===U?void 0:null===(t=U.params)||void 0===t?void 0:null===(a=t.sortBy)||void 0===a?void 0:a.name)})))||void 0===f?void 0:f.value)||v.sortBy,v.hasPreviousPage=_.hasPreviousPage(v.page),v.hasNextPage=_.hasNextPage(v.page,v.limit,v.total),v}if(ae(U)){var h,g,b;if(Ne&&!ee(Ne))throw new Error("unexpected pagination source "+Ne.source);var y=Ne||{source:"body",type:U.type,next:t[U.params.nextPath||z.a.next],previous:t[U.params.prevPath||z.a.previous],hasNextPage:!!t[U.params.nextPath||z.a.next],hasPreviousPage:!!t[U.params.prevPath||z.a.previous],limit:parseInt((null===(h=U.params)||void 0===h?void 0:null===(g=h.limit)||void 0===g?void 0:g.value)||"10"),total:t[U.params.countPath||"count"]};return t&&(y.next=t[U.params.nextPath||z.a.next],y.previous=t[U.params.prevPath||z.a.previous],y.hasNextPage=!!t[U.params.nextPath||z.a.next],y.hasPreviousPage=!!t[U.params.prevPath||z.a.previous],y.total=t[U.params.countPath||"count"]),y.limit=parseInt(null===(b=e.find((function(e){var t,a;return e.name===(null===U||void 0===U?void 0:null===(t=U.params)||void 0===t?void 0:null===(a=t.limit)||void 0===a?void 0:a.name)})))||void 0===b?void 0:b.value)||y.limit,y}throw new Error("unrecognized pagination source")}}return Object(n.useEffect)((function(){var e,t,a=(null===u||void 0===u?void 0:null===(e=u.config)||void 0===e?void 0:null===(t=e.pages)||void 0===t?void 0:t.filter((function(e,t){return e.id===f||t+1===parseInt(f||"")}))[0])||null;u.setActivePage(a)}),[f]),Object(n.useEffect)((function(){var e=ie((null===D||void 0===D?void 0:D.queryParams)||[],U),t=e.initQueryParams,a=e.initialPagination;qe([]),Pe(function(e){if(!U||te(U)){var t=k.parse(g.search),a=e.map((function(e){return"undefined"!==typeof t[e.name]?e.value="boolean"===e.type?"true"===t[e.name]:decodeURIComponent(t[e.name]):e.value=e.value||"",e}));return Ce(Ge(a,null)),a}return e}(t)),Ce(a)}),[y]),Object(n.useEffect)((function(){$e()}),[je]),r.a.createElement("div",{className:"app-page"},r.a.createElement("header",{className:"app-page-header"},r.a.createElement("hgroup",null,r.a.createElement("h2",null,null===y||void 0===y?void 0:y.name),(null===y||void 0===y?void 0:y.description)&&r.a.createElement("h4",null,null===y||void 0===y?void 0:y.description)),$&&r.a.createElement(A,{className:"add-item",color:"green",onClick:function(){return function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:we(t={title:re,config:e}),console.log(t),console.log(Ee);case 4:case"end":return a.stop()}}))}($)}},V),F&&r.a.createElement(A,{className:"add-item",color:"green",onClick:function(){return ge({type:"add",title:Y,config:F,submitCallback:ze})}},Q)),r.a.createElement("main",{className:"app-page-content"},function(){var e,t=((null===D||void 0===D?void 0:D.fields)||(null===D||void 0===D?void 0:null===(e=D.display)||void 0===e?void 0:e.fields)||[]).filter((function(e){return e.filterable})).map((function(e){return e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{initialParams:je,paginationConfig:U,submitCallback:We}),t.length>0&&r.a.createElement(X,{onChange:Re}),(null===Ne||void 0===Ne?void 0:Ne.total)&&function(){if(!pe&&_e.length){if(!Ne||Z(Ne)){var e,t,a=(((null===Ne||void 0===Ne?void 0:Ne.page)||1)-1)*((null===Ne||void 0===Ne?void 0:Ne.limit)||10)+1,n=a+_e.length-1,o="".concat(z.a.showing_result," ").concat(a,"-").concat(n," ").concat(z.a.out_of," ").concat(null===Ne||void 0===Ne?void 0:Ne.total," ").concat(z.a.items);if("infinite-scroll"===(null===Ne||void 0===Ne?void 0:Ne.type)&&(o="Showing ".concat(null===Ne||void 0===Ne?void 0:Ne.total," items")),null===G||void 0===G?void 0:null===(e=G.pagination)||void 0===e?void 0:e.itemsCount)o=null===G||void 0===G?void 0:null===(t=G.pagination)||void 0===t?void 0:t.itemsCount.replace(":currentCountFrom",a).replace(":currentCountTo",a).replace(":totalCount",null===Ne||void 0===Ne?void 0:Ne.total);return r.a.createElement("p",{className:"center pagination-state"},o)}if(ee(Ne)){var i,l,s="Total Results: ".concat(null===Ne||void 0===Ne?void 0:Ne.total);if("infinite-scroll"===(null===Ne||void 0===Ne?void 0:Ne.type)&&(s="Showing ".concat(null===Ne||void 0===Ne?void 0:Ne.total," items")),null===G||void 0===G?void 0:null===(i=G.pagination)||void 0===i?void 0:i.itemsCount)s=null===G||void 0===G?void 0:null===(l=G.pagination)||void 0===l?void 0:l.itemsCount.replace(":totalCount",null===Ne||void 0===Ne?void 0:Ne.total);return r.a.createElement("p",{className:"center pagination-state"},s)}}}(),E?r.a.createElement("div",{className:"app-error"},E):function(){var e;if(pe)return r.a.createElement(I,null);var t=(null===D||void 0===D?void 0:D.fields)||(null===D||void 0===D?void 0:null===(e=D.display)||void 0===e?void 0:e.fields)||[],a=t.filter((function(e){return e.filterable})).map((function(e){return e.name})),n=_e;if(Ue&&a.length&&(n=_e.filter((function(e){var t=!1;return a.forEach((function(a){var n=e[a];"string"===typeof n&&n.toLowerCase().indexOf(Ue)>=0&&(t=!0)})),t}))),!n.length)return r.a.createElement("div",{className:"app-error"},z.a.nothing_to_see);var o=U?function(){if(te(U)){if(Ne&&!Z(Ne))throw new Error("unexpected pagination source "+Ne.source);if((null===Ne||void 0===Ne?void 0:Ne.page)&&je.length>0){var e=(null===Ne||void 0===Ne?void 0:Ne.page)+1;We(je.map((function(t){var a,n;return t.name===(null===(a=U.params)||void 0===a?void 0:null===(n=a.page)||void 0===n?void 0:n.name)?Object(P.a)({},t,{value:e}):t})))}}else{if(!ae(U))throw new Error("unrecognized pagination source");if(Ne&&!ee(Ne))throw new Error("unexpected pagination source "+Ne.source);if(!D||!(null===Ne||void 0===Ne?void 0:Ne.next))return;var t=D.requestHeaders,a=D.actualMethod,n=D.dataPath,r=D.sortBy,o=D.dataTransform;Fe({actualMethod:a,url:Ne.next,requestHeaders:t,dataPath:n,dataTransform:o,sortBy:r})}}:null,i=U?function(){if(te(U)){if(Ne&&!Z(Ne))throw new Error("unexpected pagination source "+Ne.source);if((null===Ne||void 0===Ne?void 0:Ne.page)&&Ne.page>1&&je.length>0){var e=(null===Ne||void 0===Ne?void 0:Ne.page)-1;We(je.map((function(t){var a,n;return t.name===(null===(a=U.params)||void 0===a?void 0:null===(n=a.page)||void 0===n?void 0:n.name)?Object(P.a)({},t,{value:e}):t})))}}else{if(!ae(U))throw new Error("unrecognized pagination source");if(Ne&&!ee(Ne))throw new Error("unexpected pagination source "+Ne.source);if(!D||!(null===Ne||void 0===Ne?void 0:Ne.previous))return;var t=D.requestHeaders,a=D.actualMethod,n=D.dataPath,r=D.sortBy,o=D.dataTransform;Fe({actualMethod:a,url:Ne.previous,requestHeaders:t,dataPath:n,dataTransform:o,sortBy:r})}}:null,l={delete:W?Je:null,put:H?Le:null,action:q.length?Be:function(){},getNextPage:o,getPreviousPage:i};return"cards"===(null===D||void 0===D?void 0:D.display.type)?r.a.createElement(M,{pagination:Ne,callbacks:l,fields:t,items:n,customActions:q,customLabels:G}):r.a.createElement(R,{pagination:Ne,callbacks:l,fields:t,items:n,customActions:q,customLabels:G})}())}()),he&&r.a.createElement(K,{title:he.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ge(null),!0===e)if("infinite-scroll"===(null===Ne||void 0===Ne?void 0:Ne.type)){qe([]);var t=Object(j.a)(je);Object(N.remove)(t,(function(e){return["page","limit"].includes(e.name)})),Pe(ie(t,U).initQueryParams)}else $e()},submitCallback:he.submitCallback,type:he.type,fields:(null===(i=he.config)||void 0===i?void 0:i.fields)||[],loadedFields:m,rawData:he.rawData,getSingleConfig:he.getSingleConfig,methodConfig:he.config}),Ee&&r.a.createElement(oe,{title:Ee.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(we(null),!0===e)if("infinite-scroll"===(null===Ne||void 0===Ne?void 0:Ne.type)){qe([]);var t=Object(j.a)(je);Object(N.remove)(t,(function(e){return["page","limit"].includes(e.name)})),Pe(ie(t,U).initQueryParams)}else $e()},fields:(null===(l=Ee.config)||void 0===l?void 0:l.fields)||[],graphConfig:Ee.config}),r.a.createElement(p.a,null))})),se=(a(172),T((function(e){var t,a=e.context,o=Object(d.g)(),i=(o.location,o.replace,Object(n.useState)("")),l=Object(c.a)(i,2),u=l[0],m=l[1],f=Object(n.useState)(""),v=Object(c.a)(f,2),h=v[0],g=v[1],b=Object(n.useState)(""),y=Object(c.a)(b,2),E=y[0],w=y[1],x=a.setError,O=a.httpService,j=Object(n.useState)(null),P=Object(c.a)(j,2),k=P[0],S=P[1],N={url:"/tenants/",actualMethod:"post",requestHeaders:{"content-type":"application/json"},fields:[{name:"token",type:"text",value:"",label:"Token"},{name:"_id",type:"text",value:"",label:"ID"},{name:"organization",type:"text",value:"",label:"Organizzazione"},{name:"address",type:"text",value:"",label:"Indirizzo"},{name:"email",type:"email",value:"",label:"e-mail"},{name:"phone",type:"text",value:"",label:"Telefono"},{name:"admin_username",type:"text",value:"",label:"Username Amministratore"},{name:"admin_password",type:"password",value:"",label:"Password Amministratore"}],queryParams:[]};function C(e){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),console.log("entrato nel submit form"),n.prev=2,t={username:"".concat(u),password:"".concat(h),tenant:"".concat(E)},n.next=6,s.a.awrap(O.fetch({method:"post",origUrl:O.loginUrl,body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 6:if(a=n.sent){n.next=9;break}throw new Error(z.a.login_error);case 9:if(401!==a.status){n.next=11;break}throw new Error(z.a.login_error);case 11:if("admin"===a.user.type){n.next=13;break}throw new Error(z.a.login_unauthorised_user);case 13:sessionStorage.setItem("diten-token",a.token),window.location.replace("/"),console.log("token impostato"),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(2),x(n.t0.message),p.b.error(n.t0.message,{position:p.b.POSITION.TOP_CENTER});case 22:case"end":return n.stop()}}),null,null,[[2,18]])}function T(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(N){a.next=2;break}throw new Error("Post method is not defined.");case 2:return console.log(e),t=e.token,delete e.token,a.next=7,s.a.awrap(O.fetch({method:"post",origUrl:O.baseUrl+"/tenants",body:JSON.stringify(e),headers:{"content-type":"application/json",Authorization:t}}));case 7:a.sent;case 8:case"end":return a.stop()}}))}return r.a.createElement("div",{className:"auth-page"},r.a.createElement("h4",null,z.a.login),r.a.createElement("form",{className:"form-content",onSubmit:C},r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,z.a.username),r.a.createElement("input",{type:"text",placeholder:z.a.username_suggestion,onChange:function(e){m(e.target.value)}})),r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,z.a.password),r.a.createElement("input",{type:"password",placeholder:z.a.password_suggenstion,onChange:function(e){g(e.target.value)}})),r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,z.a.tenant),r.a.createElement("input",{type:"text",placeholder:z.a.tenant_suggenstion,onChange:function(e){w(e.target.value)}})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(A,{type:"submit",onClick:C,color:"green"},z.a.submit))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-content"},r.a.createElement("div",{className:"form-row row"},r.a.createElement("h5",null,z.a.add_tenant),r.a.createElement("div",{className:"buttons-wrapper center"}),r.a.createElement(A,{title:z.a.add_tenant,onClick:function(){return S({type:"add",title:z.a.add_tenant,config:N,submitCallback:T})},color:"green"},r.a.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"})))),k&&r.a.createElement(K,{title:k.title,closeCallback:function(){S(null)},submitCallback:k.submitCallback,fields:(null===(t=k.config)||void 0===t?void 0:t.fields)||[],rawData:k.rawData,getSingleConfig:k.getSingleConfig,methodConfig:k.config}),r.a.createElement(p.a,null))}))),ce=(a(173),T((function(e){var t=e.context.config,a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1];return r.a.createElement("nav",{className:"app-nav"},r.a.createElement(A,{className:"app-nav-opener",onClick:function(){return l(!i)}},i?r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})),r.a.createElement("div",{className:"app-nav-wrapper ".concat(i?"opened":"")},r.a.createElement("div",{className:"app-nav-links"},((null===t||void 0===t?void 0:t.pages)||[]).map((function(e,t){return r.a.createElement(u.b,{to:"/".concat(e.id||t+1),activeClassName:"active",key:"page_".concat(t),onClick:function(){return l(!1)}},e.name)}))),r.a.createElement("div",{className:"logout-wrapper"},r.a.createElement(A,{color:"red",onClick:function(){return sessionStorage.clear(),void document.location.replace("/")}},z.a.logout))))}))),ue=function(e){var t=e.styles.vars||{},a=[];for(var n in t)a.push("--".concat(n,": ").concat(t[n]));return r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n      :root {\n        ".concat(a.join(";"),"\n      }\n    ")}})},de=(a(174),new y),pe="RESTool App";function me(e){var t=document.createElement("link"),a=document.getElementById("favicon");t.id="favicon",t.rel="shortcut icon",t.href=e,a&&document.head.removeChild(a),document.head.appendChild(t)}var fe=function(){var e,t,a,o=Object(n.useState)(Array(0)),i=Object(c.a)(o,2),l=i[0],m=i[1],f=Object(n.useState)(),v=Object(c.a)(f,2),h=v[0],g=v[1],b=Object(n.useState)(!0),y=Object(c.a)(b,2),E=y[0],w=y[1],x=Object(n.useState)(null),j=Object(c.a)(x,2),P=j[0],k=j[1],S=Object(n.useState)((null===P||void 0===P?void 0:null===(e=P.pages)||void 0===e?void 0:e[0])||null),N=Object(c.a)(S,2),T=N[0],I=N[1],_=Object(n.useState)(null),q=Object(c.a)(_,2),A=q[0],D=q[1],U=(null===P||void 0===P?void 0:P.name)||pe;Object(n.useEffect)((function(){!function e(t){var a,n,r,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,o=null===(a=window.RESTool)||void 0===a?void 0:a.config,t||!o){l.next=6;break}i=Object.assign({},o,{}),l.next=16;break;case 6:if(!t){l.next=12;break}return l.next=9,s.a.awrap(O.getRemoteConfig(t));case 9:l.t0=l.sent,l.next=15;break;case 12:return l.next=14,s.a.awrap(O.loadDefaultConfig());case 14:l.t0=l.sent;case 15:i=l.t0;case 16:if(de.baseUrl=i.baseUrl||"",de.loginUrl=i.loginUrl||"",de.errorMessageDataPath=i.errorMessageDataPath||"",de.unauthorizedRedirectUrl=i.unauthorizedRedirectUrl||"",de.requestHeaders=i.requestHeaders||{},document.title=i.name||pe,(null===(n=i)||void 0===n?void 0:n.favicon)&&me(i.favicon),!(null===(r=i)||void 0===r?void 0:r.remoteUrl)){l.next=27;break}return l.next=26,s.a.awrap(e(i.remoteUrl));case 26:return l.abrupt("return",l.sent);case 27:k(i),l.next=33;break;case 30:l.prev=30,l.t1=l.catch(0),console.error("Could not load config file",l.t1);case 33:w(!1);case 34:case"end":return l.stop()}}),null,null,[[0,30]])}(),g(!1)}),[]),Object(n.useEffect)((function(){var e=O.validateConfig(P),t=e.isValid,a=e.errorMessage;if(!t)return D(a),void p.b.error(a,{position:p.b.POSITION.TOP_CENTER})}),[P]);var R=sessionStorage.getItem("diten-token");return null===R?r.a.createElement("div",{className:"restool-app"},r.a.createElement(C.Provider,{value:{config:P,activePage:T,setActivePage:I,error:A,setError:D,httpService:de}},r.a.createElement(u.a,null,r.a.createElement(d.b,{exact:!0,path:"/",component:se})))):(null!==R&&!1===h&&(!function(){var e,t,a,n,r;s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(de.fetch({method:"get",origUrl:de.baseUrl+"/v1/types",headers:{"content-type":"application/json"}}));case 2:for(r in e=o.sent,t=Array(12).fill({fieldName:"",values:[]}),a=Object.keys(e),n=Object.values(e),t)t[r]={fieldName:a[r],values:Object.values(n[r])};m(t);case 8:case"end":return o.stop()}}))}(),g(!0)),r.a.createElement("div",{className:"restool-app"},P?r.a.createElement(C.Provider,{value:{config:P,activePage:T,setActivePage:I,error:A,setError:D,httpService:de}},P.customStyles&&r.a.createElement(ue,{styles:P.customStyles}),r.a.createElement(u.a,null,r.a.createElement("aside",null,r.a.createElement("h1",{title:U,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=window.scrollY/2,a=0,n=performance.now();window.requestAnimationFrame((function r(o){(a+=Math.PI/(e/(o-n)))>=Math.PI&&window.scrollTo(0,0),0!==window.scrollY&&(window.scrollTo(0,Math.round(t+t*Math.cos(a))),n=o,window.requestAnimationFrame(r))}))}()}},U),r.a.createElement(ce,null)),P&&r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",component:se}),r.a.createElement(d.b,{exact:!0,path:"/:page",component:function(){return r.a.createElement(le,{loadedFields:l})}}),r.a.createElement(d.a,{path:"/",to:"/".concat((null===P||void 0===P?void 0:null===(t=P.pages)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id)||"1")})),r.a.createElement(p.a,{position:p.b.POSITION.TOP_CENTER,autoClose:4e3,draggable:!1}))):r.a.createElement("div",{className:"app-error"},E?"Loading Configuration...":"Could not find config file.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(175);i.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},3:function(e,t){var a=Object.freeze({username:"Nome utente",password:"Password",tenant:"Organizzazione",username_suggestion:"Inserisci il nome utente",password_suggenstion:"Inserisci la password",tenant_suggenstion:"Inserisci la tua organizzazione",submit:"Invio",login_error:"Login errata!",login_unauthorised_user:"Al momento solamente gli utenti con i privilegi di amministratore possono accedere",search:"Cerca",previous_page:"Pagina precedente",next_page:"Prossima pagina",showing_result:"Risultati",out_of:"di",items:"totali",nothing_to_see:"Nessun risultato",enter_text:"Inserisci testo",enter_email:"Inserisci email",enter_date:"Inserisci data",enter_color:"Inserisci colore",enter_password:"Inserisci password",next:"Successivo",previous:"Precedente",select:"",add:"Aggiungi",update:"Aggiorna",session_expired:"Sessione scaduta",login:"Accedi",logout:"Esci",graph:"Grafico",wrong_feature_error:"Questa versione del software non pu\xf2 costruire un grafico delle feature selezionate. Possono essere mostrati i grafici solamente di feature aventi almeno una componente scalare e numerica",no_data_error:"Non sono presenti dati per poter elaborare un grafico",add_tenant:"Aggiungi organizzazione",zoomIn:"Ingrandisci",zoomOut:"Riduci",value:"Valore",full_privileges:"Privilegi completi"});e.exports=a},62:function(e,t,a){},79:function(e,t,a){e.exports=a(176)}},[[79,1,2]]]);
//# sourceMappingURL=main.c7fd1840.chunk.js.map