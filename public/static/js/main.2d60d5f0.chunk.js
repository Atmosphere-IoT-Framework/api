(this.webpackJsonprestool=this.webpackJsonprestool||[]).push([[0],{119:function(e){e.exports=JSON.parse('{"$id":"https://github.com/dsternlicht/RESTool/blob/master/config.schema.json","$schema":"http://json-schema.org/draft-07/schema#","description":"The configuration file used for a RESTool application, see https://github.com/dsternlicht/RESTool","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of your app."},"pages":{"type":"array","items":{"$ref":"#/definitions/page"}},"baseUrl":{"type":"string","description":"Base url of the api. This will prefix the url of all the api methods defined for all pages. This is normally the domain plus a base path. For example: \\"https://restool-sample-app.herokuapp.com/api\\"\\n\\nNote: If different pages use different base urls this should not be used. Instead, you should explicitly define absolute urls for each method."},"errorMessageDataPath":{"$ref":"#/definitions/errorMessageDataPath"},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"unauthorizedRedirectUrl":{"type":"string","description":"Path to navigate to when the api returns a 401 (Unauthorized) error. You can use :returnUrl to pass a return location. For example: \\"/login/myLoginPage?return=:returnUrl\\""},"favicon":{"type":"string","description":"A URL for you app\'s favicon."},"loginUrl":{"type":"string","description":"A URL for you app\'s login entry point."},"customStyles":{"$ref":"#/definitions/customStyles"},"customLabels":{"$ref":"#/definitions/customLabels"}},"required":["name","pages"],"definitions":{"errorMessageDataPath":{"type":"array","items":{"type":"string"},"description":"The path within an error response object to look for an error message. If multiple are provided, each will be tried in order until a message is found."},"customStyles":{"type":"object","additionalProperties":false,"properties":{"vars":{"type":"object","additionalProperties":false,"properties":{"appText":{"type":"string","description":"Root text color."},"appBackground":{"type":"string","description":"App background color."},"navBackground":{"type":"string","description":"Navigation menu background color."},"navText":{"type":"string","description":"Navigation menu text color."},"navItemText":{"type":"string","description":"Navigation item text color."},"navItemHoverBackground":{"type":"string","description":"Navigation item background color on hover event."},"navItemActiveBackground":{"type":"string","description":"Active navigation item background color."},"actionButtonBackground":{"type":"string","description":"Action button background color."},"actionButtonHoverBackground":{"type":"string","description":"Action button background color on hover event."},"actionButtonText":{"type":"string","description":"Action button text  color."}}}}},"page":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of the page. This will be presented in the menu."},"id":{"type":"string","description":"A unique identifier for the page. RESTool will use it to navigate between pages."},"itemName":{"type":"string","description":"The name of the entity visualized in this page."},"description":{"type":"string","description":"A short description about the page and its usage."},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"methods":{"$ref":"#/definitions/methods"},"customActions":{"type":"array","items":{"$ref":"#/definitions/customAction"},"description":"A list of extra (non RESTful) endpoints available in your RESTful API. Specifically customActions is a list of PUT or POST method objects."},"customLabels":{"$ref":"#/definitions/customLabels"}},"required":["name","id","itemName"]},"requestHeaders":{"patternProperties":{"^":{"type":"string"}},"description":"A list of key-value headers you wish to add to every request we\'re making.\\nFor example:\\n{ Authentication: \'SECRET_KEY\', \'X-USER-ID\': \'USER_ID\' }"},"methods":{"type":"object","additionalProperties":false,"properties":{"getAll":{"$ref":"#/definitions/getAll"},"getSingle":{"$ref":"#/definitions/getSingle"},"post":{"$ref":"#/definitions/post"},"graph":{"$ref":"#/definitions/post"},"put":{"$ref":"#/definitions/put"},"delete":{"$ref":"#/definitions/delete"}},"required":["getAll"]},"method":{"type":"object","properties":{"url":{"type":"string","description":"The url for making the request. The url could be either relative or absolute. If a baseUrl is defined then you should only provide a relative path. For example: /users/:id.\\nThe url could contain parameters that will be extracted if needed. For example: \\nhttps://website.com/users/:id - note that the parameter name in the url should match the one you\'re returning in your API."},"actualMethod":{"type":"string","enum":["get","put","post","delete","patch"]},"requestHeaders":{"$ref":"#/definitions/requestHeaders"},"queryParams":{"type":"array","items":{"$ref":"#/definitions/inputField"},"description":"An array of query parameters fields that will be added to the request.\\nIf your url includes the name of the parameter, it will be used as part of the path rather than as a query parameter. For example if your url is /api/contact/234/address you might make a parameter called contactId then set the url as follows: /api/contact/:contactId/address.\\nEach query param item is an object. See input fields."}},"required":["url"]},"getAll":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/displayField"}},"dataPath":{"type":"string","description":"TODO"},"display":{"type":"object","properties":{"type":{"enum":["table","cards"]}},"description":"RESTool allows you to control how to output the data. The display object has a type property that will define how to display the data. RESTool supports two display type: \\"table\\" and \\"cards\\"."},"sortBy":{"type":["string","array"],"items":{"type":"string"},"description":"One or more paths to properties in the result object to sort the list by."},"pagination":{"$ref":"#/definitions/pagination"},"dataTransform":{"description":"Relevant only when using dynamic (js) config. A function to allow manipulation on the response data. Useful for changing/adding data for display purposes."}},"required":["display","fields"]}]},"getSingle":{"$ref":"#/definitions/method","description":"This method will be fired once you hit the edit button on an item in order to get a single item\'s data. By default, if this method hasn\'t been set, when editing an item, RESTool will take the raw data from the original getAll request.","properties":{"dataTransform":{"description":"Relevant only when using dynamic (js) config. A function to allow manipulation on the response data. Useful for changing/adding data for display purposes."}}},"post":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}}},"required":["fields"]}],"description":"The post method will be used to create new items in your API resource."},"graph":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}},"dataPath":{"type":"string","description":"TODO"}},"required":["fields"]}],"description":"This method will be used to create graph with the resource within the page."},"put":{"allOf":[{"$ref":"#/definitions/method"},{"properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/inputField"}},"includeOriginalFields":{"type":"boolean","description":"When set to true, all fields from the original object are merged and sent in the request body. Default is false."}},"required":["fields"]}],"description":"The put method will be used to update an existing item in your API resource."},"delete":{"$ref":"#/definitions/method","description":"The delete method will be used to delete an existing item in your API resource."},"inputField":{"additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of the field / parameter to be sent."},"type":{"type":"string","enum":["text","long-text","object","encode","integer","number","boolean","date","email","color","select","array","file","password","note","hidden"],"description":"Use the type field to define the type of the field."},"readonly":{"type":"boolean"},"disabled":{"type":"boolean"},"label":{"type":"string","description":"A label that describes the field. This will act as a label in RESTool\'s forms."},"dataPath":{"type":"string","description":"Use this field to let RESTool know what is the path of this field in the body of the request."},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"object","properties":{"display":{"type":"string"},"value":{}}}]},"description":"Add the options field if you chose a select as a type. This field should contain an array of options to be displayed in the select box."},"arrayType":{"type":"string","enum":["text","object"],"description":"For array field type, you should specify another property called arrayType so RESTool will know how to present & send the data in the POST and PUT methods."},"value":{"description":"Set a default value to the field."},"required":{"type":"boolean","description":"If true, a field will be marked as required on PUT and POST forms."},"placeholder":{"type":"string","description":"Input field placeholder."},"accept":{"type":"string","description":"An optional setting for file type inputs. When set, the file input\'s accept property will perform file type filtering when browsing for files."},"useInUrl":{"type":"boolean","description":"If true, a field can be used as a parameter in a PUT url. Otherwise only fields retrieved in the original GET can be used as parameters. It\'s data will still be added to the PUT request body."},"urlReplaceOnly":{"type":"boolean","description":"If true, a field will only be replaced in the URL and is not appended to the final query string."},"optionSource":{"$ref":"#/definitions/optionSource","description":"Use the optionSource field to load options for a select box from a REST service. If this is used with options, the items from options will be added to the select box before those fetched from the api."}},"required":["name","type"]},"displayField":{"additionalProperties":false,"properties":{"name":{"type":"string","description":"The property name of the field that contains the value in the API result."},"type":{"type":"string","enum":["text","url","image","colorbox","boolean","html"],"description":"This will help RESTool to render the main view.\\ntext -  will parse the value as a text\\nurl -  will render an anchor element with a clickable link\\nimage -  will render an image from the url\\ncolorbox -  will render a #RRGGBB hex string as an 80 x 20 pixel colored rectangle, overlaid with the hex color string"},"label":{"type":"string","description":"A label that describes the field. Will be presented as table headers in the main view."},"dataPath":{"type":"string","description":""},"url":{"type":"string","description":"URL for url typed fields"},"urlLabel":{"type":"string","description":"Display the url label rather than the entire value."},"filterable":{"type":"boolean","description":"Set to true to enable a text control to do simple client-side filtering by values of this field. Can be specified for multiple fields."},"truncate":{"type":"boolean","description":"Causes long values to be truncated. By default, truncation is not enabled for fields."},"htmlCode":{"type":"string","description":"HTML code to display in a cell. Use {value} to insert item value at this place"}},"required":["name","type"]},"optionSource":{"additionalProperties":false,"properties":{"url":{"type":"string","description":"url to fetch data from "},"dataPath":{"type":["string","null"],"description":"let us know where we should take the data from"},"displayPath":{"type":"string","description":"property of the object to take the display value from"},"valuePath":{"type":"string","description":"property of the object to take the option value from"},"preLoad":{"type":"boolean","description":"property of the object that will force the load of values only once at beginning"},"name":{"type":"string","description":"the name of the item to get values from"},"sortBy":{"type":["string","array"],"items":{"type":"string"},"description":"one or more properties to sort the objects by"}}},"pagination":{"additionalProperties":false,"required":["source","type","params"],"properties":{"source":{"enum":["query","body"],"description":"Where the pagination parameters are written to. Only supports query parameters for now."},"type":{"enum":["buttons","infinite-scroll"],"description":"Type of pagination. Buttons is the standard one. You can also have a inifite scroll with lazy loading."},"params":{"$ref":"#/definitions/paginationParams"},"fields":{"$ref":"#/definitions/paginationFields"}}},"paginationParams":{"additionalProperties":false,"required":[],"properties":{"page":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the page number."},"limit":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the maximum number of items to be returned by the API."},"sortBy":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the sorting value."},"descending":{"$ref":"#/definitions/queryParamConfig","description":"The parameter definition of the order in which the API should return items. false by default."}}},"paginationFields":{"additionalProperties":false,"properties":{"page":{"$ref":"#/definitions/paginationField"},"total":{"$ref":"#/definitions/paginationField"}}},"paginationField":{"additionalProperties":false,"required":["dataPath"],"properties":{"dataPath":{"type":"string"},"display":{"type":"boolean"}}},"queryParamConfig":{"additionalProperties":false,"required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"urlReplaceOnly":{"type":"boolean"},"label":{"type":"string"}}},"customAction":{"allOf":[{"$ref":"#/definitions/put"},{"type":"object","properties":{"icon":{"type":"string","description":"You may configure the icon of the action. RESTool uses font-awesome and you may use any icon name you want from their collection."}}}],"description":"Specifically customActions is a list of PUT or POST method objects. For example this could enable an endpoint like: PUT /users/:id/disable"},"customLabels":{"additionalProperties":false,"properties":{"buttons":{"$ref":"#/definitions/buttonLabels"},"formTitles":{"$ref":"#/definitions/formTitleLabels"},"placeholders":{"$ref":"#/definitions/placeholderLabels"},"tableColumnHeaders":{"$ref":"#/definitions/tableColumnHeaders"},"pagination":{"$ref":"#/definitions/paginationLabels"}}},"buttonLabels":{"additionalProperties":false,"properties":{"addItem":{"type":"string","description":"Content of the add button on a page.","default":"+ Add Item"},"editItem":{"type":"string","description":"Title of the edit button on a row or a card.","default":"Edit"},"deleteItem":{"type":"string","description":"Title of the delete button on a row or a card.","default":"Delete"},"clearInput":{"type":"string","description":"Title of the clear button on form inputs.","default":"Clear"},"closeForm":{"type":"string","description":"Title of the close button in forms.","default":"Close"},"addArrayItem":{"type":"string","description":"Title of the add button on arrays inputs in forms.","default":"Add Item"}}},"formTitleLabels":{"additionalProperties":false,"properties":{"addItem":{"type":"string","description":"Content of the add button on a page.","default":"Add Item"},"editItem":{"type":"string","description":"Title of the edit button on a row or a card.","default":"Edit Item"}}},"placeholderLabels":{"additionalProperties":false,"properties":{"object":{"type":"string","description":"JSON input placeholder.","default":"Enter JSON..."},"array":{"type":"string","description":"JSON array input placeholder.","default":"Enter JSON array..."},"text":{"type":"string","description":"Text input placeholder.","default":"Enter text..."},"number":{"type":"string","description":"Number input placeholder.","default":0},"color":{"type":"string","description":"Color input placeholder.","default":"Enter color..."},"email":{"type":"string","description":"Email input placeholder.","default":"Enter email..."},"password":{"type":"string","description":"Password input placeholder.","default":"Enter password..."},"date":{"type":"string","description":"Date input placeholder.","default":"Enter date..."},"file":{"type":"string","description":"File input placeholder.","default":"Select file..."}}},"tableColumnHeaders":{"additionalProperties":false,"properties":{"actions":{"type":"string","description":"Header of the action column in tables.","default":"Actions"}}},"paginationLabels":{"additionalProperties":false,"properties":{"itemsCount":{"type":"string","description":"","default":"Showing :currentCountFrom-:currentCountTo out of :totalCount items"},"previousPageTitle":{"type":"string","description":"","default":"Previous page"},"nextPageTitle":{"type":"string","description":"","default":"Next page"}}}}}')},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),l=a(2),s=a.n(l),c=a(3),u=a(26),d=a(20),p=a(6),m=a(12),f=a(13),v=a(30),g=a(28),h=a(31),b=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"extractDataByDataPath",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return a?e[a]:e;var n=e,r=t.split("."),i=!0,o=!1,l=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;if("undefined"===typeof n[u])return null;n=n[u]}}catch(d){o=!0,l=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return"undefined"===typeof n?null:a?n[a]:n}},{key:"checkIfFieldIsObject",value:function(e){return"object"===e.type||!("array"!==e.type||e.arrayType&&"object"!==e.arrayType)}},{key:"arrayToCSV",value:function(e){var t="object"!==typeof e?JSON.parse(e):e,a="".concat(Object.keys(t[0]).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n";return t.reduce((function(e,t){return e+="".concat(Object.values(t).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n"}),a)}}]),e}()),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(m.a)(this,e),this.baseUrl=void 0,this.loginUrl=void 0,this.unauthorizedRedirectUrl=void 0,this.errorMessageDataPath=void 0,this.requestHeaders=void 0,this.baseUrl=t||"",this.loginUrl=r||"",this.unauthorizedRedirectUrl=a||"",this.errorMessageDataPath=n||"",this.requestHeaders={}}return Object(f.a)(e,[{key:"urlIsAbsolute",value:function(e){return 0===e.indexOf("http")||0===e.indexOf("https")}},{key:"replaceParamsInUrl",value:function(e,t){if(!t||"object"!==typeof t)return e;var a=e;return Object.keys(t).forEach((function(e){var n=":".concat(e);a=a.replace(n,t[e])})),a}},{key:"buildUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(!t||!t.length)return this.replaceParamsInUrl(e,n);var r=e,i=[],o="-1",l="10",s=!0,c=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var m=d.value,f="";m.name&&"undefined"!==typeof m.value&&("page"!==m.name?"limit"!==m.name?"tags"===m.name&&""===m.value||(f="info"===m.name?'{"$regex":"'+m.value+'","$options":"i"}':'"'+m.value+'"',!0===a?i.push('"'.concat(m.name,'":').concat(f||"")):i.push('"'.concat(m.name,'":{"$regex" : ').concat(f||"","}"))):l=m.value:o=m.value)}}catch(v){c=!0,u=v}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}return r+="?filter={"+i.join(",")+"}","-1"!=o&&(r+="&page="+o),r+="&limit="+l,console.log("Requested URL : "+r),r}},{key:"buildRequest",value:function(e){var t=this.urlIsAbsolute(e.origUrl)?e.origUrl:this.baseUrl+e.origUrl,a=this.buildUrl(t,e.queryParams,e.exactMatch,e.rawData),n=sessionStorage.getItem("diten-token")?{Authorization:sessionStorage.getItem("diten-token")}:{};return{url:a,params:{method:e.method?e.method.toUpperCase():"GET",headers:Object.assign(n,this.requestHeaders,e.headers||{}),body:"post"===e.method||"put"===e.method||"patch"===e.method?e.body:void 0}}}},{key:"getErrorMessage",value:function(e){var t,a,n,r,i,o,l,c,u;return s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t="",d.prev=1,d.next=4,s.a.awrap(e.json());case 4:for(a=d.sent,n=!0,r=!1,i=void 0,d.prev=8,o=this.errorMessageDataPath[Symbol.iterator]();!(n=(l=o.next()).done);n=!0)c=l.value,(u=b.extractDataByDataPath(a,c))&&(t=u);d.next=16;break;case 12:d.prev=12,d.t0=d.catch(8),r=!0,i=d.t0;case 16:d.prev=16,d.prev=17,n||null==o.return||o.return();case 19:if(d.prev=19,!r){d.next=22;break}throw i;case 22:return d.finish(19);case 23:return d.finish(16);case 24:d.next=28;break;case 26:d.prev=26,d.t1=d.catch(1);case 28:return d.abrupt("return",t&&t.length?t:"".concat(e.status," - ").concat(e.statusText||""));case 29:case"end":return d.stop()}}),null,this,[[1,26],[8,12,16,24],[17,,19,23]])}},{key:"handleError",value:function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(401!==e.status||!this.unauthorizedRedirectUrl){a.next=5;break}return sessionStorage.clear(),t=this.unauthorizedRedirectUrl.replace(":returnUrl",encodeURIComponent(document.location.href)),document.location.replace(t),a.abrupt("return");case 5:return a.t0=Error,a.next=8,s.a.awrap(this.getErrorMessage(e));case 8:throw a.t1=a.sent,new a.t0(a.t1);case 10:case"end":return a.stop()}}),null,this)}},{key:"makeRequest",value:function(e){var t,a,n,r=arguments;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:"json",i.next=4,s.a.awrap(fetch(e,Object.assign({},t,{})));case 4:if(!(n=i.sent).ok){i.next=17;break}i.t0=a,i.next="json"===i.t0?9:"text"===i.t0?12:"boolean"===i.t0?15:16;break;case 9:return i.next=11,s.a.awrap(n.json());case 11:return i.abrupt("return",i.sent);case 12:return i.next=14,s.a.awrap(n.text());case 14:return i.abrupt("return",i.sent);case 15:case 16:return i.abrupt("return",!0);case 17:return i.next=19,s.a.awrap(this.handleError(n));case 19:case"end":return i.stop()}}),null,this)}},{key:"fetch",value:function(e){var t,a,n,r,i,o,l,c,u,d,p;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.method,a=e.origUrl,n=e.queryParams,r=e.exactMatch,i=e.rawData,o=e.body,l=e.headers,c=e.responseType,u=this.buildRequest({method:t,origUrl:a,queryParams:n,exactMatch:r,rawData:i,body:o,headers:l}),d=u.url,p=u.params,m.next=4,s.a.awrap(this.makeRequest(d,p,c));case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}}),null,this)}}]),e}(),E=a(72),w=a.n(E),x={username:"Nome utente",password:"Password",tenant:"Organizzazione",next:"Successivo",previous:"Precedente",select:"",language:"Lingua",welcome:"Bentornato",role:"Ruolo",session_expire_in:"La sessione scadr\xe0 in ",previous_page:"Pagina precedente",next_page:"Prossima pagina",showing_result:"Risultati",out_of:"di",items:"totali",enter_text:"Inserisci testo",enter_email:"Inserisci email",enter_date:"Inserisci data",enter_color:"Inserisci colore",enter_password:"Inserisci password",username_suggestion:"Inserisci il nome utente",password_suggestion:"Inserisci la password",tenant_suggestion:"Inserisci la tua organizzazione",add_tenant:"Aggiungi organizzazione",id_suggestion:"Inserisci un ID",dimensions_guide:"0 scalar / 1 array / 2 matrix",graph:"Grafico",samples:"Campioni",zoomIn:"Ingrandisci",zoomOut:"Riduci",value:"Valore",page:"Pagina",user_page_description:"Visualizzazione e gestione degli User",thing_page_description:"Visualizzazione e gestione delle Thing",feature_page_description:"Visualizzazione e gestione delle Feature.",device_page_description:"Visualizzazione e gestione dei Device.",measure_page_description:"Visualizzazione e gestione delle Measurement.",tag_page_description:"Visualizzazione e gestione dei Tag.",fieldmask_page_description:"Visualizzazione e gestione delle Fieldmask.",right_page_description:"Visualizzazione e gestione dei Right.",issue_page_description:"Visualizzazione e gestione degli Issue.",constraint_page_description:"Visualizzazione e gestione dei Constraint.",script_page_description:"Visualizzazione e gestione degli Script.",results_for_page:"Risultati per pagina",filter_tag:"Filtra Tag",filter_thing:"Filtra Thing",filter_feature:"Filtra Feature",filter_device:"Filtra Device",select_feature:"Seleziona Feature",select_thing:"Seleziona Thing",select_device:"Seleziona Device",no_tag:"Nessun Tag",no_feature:"Nessuna Feature",no_script:"Nessuno Script",no_relation:"Nessuna Relation",no_item:"Nessun Item",nothing_to_see:"Nessun risultato",full_privileges:"Privilegi completi",expand_and_edit:"Espandi e Modifica",clone_and_edit:"Clona e Modifica",expand:"Espandi",add:"Aggiungi",update:"Aggiorna",submit:"Invio",search:"Cerca",login:"Accedi",logout:"Esci",scroll_to_top:"Torna a inizio pagina",wrong_feature_error:"Questa versione del software non pu\xf2 costruire un grafico delle feature selezionate. Possono essere mostrati i grafici solamente di feature aventi almeno una componente scalare e numerica",no_data_error:"Non sono presenti dati per poter elaborare un grafico",login_error:"Login errata!",login_unauthorised_user:"Al momento solamente gli utenti con i privilegi di amministratore possono accedere",session_expired:"Sessione scaduta"},O={username:"Username",password:"Password",tenant:"Tenant",next:"Next",previous:"Previous",select:"",language:"Language",welcome:"Welcome back",role:"Role",session_expire_in:"Session will expire in ",previous_page:"Previous Page",next_page:"Next Page",showing_result:"Results",out_of:"out of",items:"items",enter_text:"Insert Text",enter_email:"Insert email",enter_date:"Insert date",enter_color:"Insert color",enter_password:"Insert password",username_suggestion:"Insert your username",password_suggestion:"Insert your password",tenant_suggestion:"Insert your tenant",add_tenant:"Add tenant",id_suggestion:"Insert an ID",dimensions_guide:"0 scalar / 1 array / 2 matrix",graph:"Plot",samples:"Samples",zoomIn:"Zoom In",zoomOut:"Zoom Out",value:"Value",page:"Page",user_page_description:"Visualization and Management of Users",thing_page_description:"Visualization and Management of Things",feature_page_description:"Visualization and Management of Features.",device_page_description:"Visualization and Management of Devices.",measure_page_description:"Visualization and Management of Measurements.",tag_page_description:"Visualization and Management of Tags.",fieldmask_page_description:"Visualization and Management of Fieldmasks.",right_page_description:"Visualization and Management of Rights.",issue_page_description:"Visualization and Management of Issues.",constraint_page_description:"Visualization and Management of Constraints.",script_page_description:"Visualization and Management of Scripts.",results_for_page:"Results each page",filter_tag:"Filter Tags",filter_thing:"Filter Things",filter_feature:"Filter Features",filter_device:"Filter Devices",select_feature:"Select Features",select_thing:"Select Things",select_device:"Select Devices",no_tag:"No Tags",no_feature:"No Features",no_script:"No Scripts",no_relation:"No Relations",no_item:"No Items",nothing_to_see:"No results",full_privileges:"Full privileges",expand_and_edit:"Expand and Edit",clone_and_edit:"Clone and Edit",expand:"Expand",add:"Add",update:"Update",submit:"Submit",search:"Search",login:"Login",logout:"Logout",scroll_to_top:"Scroll to top",wrong_feature_error:"This software cannot build plot with the selected feature. Only features with scalar and numeric components can be plotted",no_data_error:"Not enough data to build a plot",login_error:"Wrong login!",login_unauthorised_user:"This software version allows only admin users to login",session_expired:"Session expired"};function j(){var e=sessionStorage.getItem("diten-language");return"it"===e?x:O}var P=new y,k=new(function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"getRemoteConfig",value:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith(".js")){t.next=6;break}return console.log("fetch config.js"),t.next=4,s.a.awrap(import(e));case 4:return t.t0=j,t.abrupt("return",t.sent.configurator(t.t0));case 6:return t.next=8,s.a.awrap(P.fetch({origUrl:e}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}))}},{key:"loadDefaultConfig",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.getRemoteConfig("../../config.js"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,this)}},{key:"validateConfig",value:function(e){if(null===e)return{isValid:!0,errorMessage:null};var t=a(119),n=new w.a({allErrors:!0,verbose:!0}).compile(t),r=n(e);if("boolean"!==typeof r)throw new Error("Unexpected asynchronous JSON validation");if(r)return{isValid:r,errorMessage:null};var i=n.errors?n.errors[0]:void 0,o=null;return o=(null===i||void 0===i?void 0:i.message)&&(null===i||void 0===i?void 0:i.dataPath)?'Error parsing configuration at "'.concat(i.dataPath,'": ').concat(i.message):(null===i||void 0===i?void 0:i.message)?"Error parsing configuration: ".concat(i.message):(null===i||void 0===i?void 0:i.dataPath)?'Error parsing configuration at "'.concat(i.dataPath,'"'):"Error parsing configuration",console.error(o),console.error("All configuration errors: ",n.errors),{isValid:r,errorMessage:o}}}]),t}(y)),_=a(7),S=a(11),N=a(73),I=a(37),C=a(17),T=r.a.createContext({config:null,activePage:null,error:null,setError:function(){},setActivePage:function(){},httpService:new y}),q=function(e){return function(t){return r.a.createElement(T.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},D=(a(132),function(){return r.a.createElement("div",{className:"app-loader cp-spinner cp-balls small"})}),A=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"hasPreviousPage",value:function(e){return void 0!==e&&("string"===typeof e?parseInt(e)>1:e>1)}},{key:"hasNextPage",value:function(e,t,a){return void 0===a||("string"===typeof e?parseInt(e):e)*("string"===typeof t?parseInt(t):t)<("string"===typeof a?parseInt(a):a)}}]),e}()),z=a(38),U=(a(133),function(e){return r.a.createElement("button",Object.assign({},e,{className:"button ".concat(e.className||""," ").concat(e.color||"")}),e.children)}),R=(a(134),function(){return r.a.createElement("div",{className:"app-infinite-loader cp-spinner cp-balls small"})}),M=(a(135),a(9)),F=a(5);M.a.library.add(F.b,F.a);var L=function(e){var t,a,n=e.callbacks,i=e.pagination,o=e.customLabels,l=(null===o||void 0===o?void 0:null===(t=o.pagination)||void 0===t?void 0:t.previousPageTitle)||"Previous page",s=(null===o||void 0===o?void 0:null===(a=o.pagination)||void 0===a?void 0:a.nextPageTitle)||"Next page";return r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(U,{disabled:!i.hasPreviousPage,onClick:function(){return n.previousPage()},title:l},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"})),r.a.createElement(U,{disabled:!i.hasNextPage,onClick:function(){return n.nextPage()},title:s},r.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true"})))};a(136);M.a.library.add(F.f,F.k,F.e);var B=function(e){var t,a,i,o=e.items,l=e.fields,s=e.pagination,c=e.callbacks,u=e.customActions,d=e.customLabels,p=(null===d||void 0===d?void 0:null===(t=d.buttons)||void 0===t?void 0:t.editItem)||"Edit",m=(null===d||void 0===d?void 0:null===(a=d.buttons)||void 0===a?void 0:a.deleteItem)||"Delete",f=(null===d||void 0===d?void 0:null===(i=d.tableColumnHeaders)||void 0===i?void 0:i.actions)||"Actions",v={nextPage:c.getNextPage||function(){},previousPage:c.getPreviousPage||function(){}};function g(e,t){return r.a.createElement("tr",{key:"tr_".concat(t)},l.map((function(a,n){var i=b.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("td",{className:a.truncate?"truncate":"",key:"td_".concat(t,"_").concat(n)},function(e,t,a){if("boolean"===e.type&&(a=!!a),a&&"object"===typeof a)return"object";switch(e.type){case"text":return r.a.createElement("span",null,a);case"boolean":return r.a.createElement("div",{className:"bool ".concat(a?"true":"false")});case"image":return r.a.createElement("img",{src:a||"",alt:a||e.label||e.name});case"url":var n=e.url||a||"";return l.forEach((function(e){var a=b.extractDataByDataPath(t,e.dataPath,e.name);n=n.replace(":".concat(e.name),a)})),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e.urlLabel||a);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:a}});case"html":var i=(e.htmlCode||"<span>{value}</span>").replace("{value}",a);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}});default:return a}}(a,e,i))})),r.a.createElement("td",null,r.a.createElement("div",{className:"actions-wrapper"},c.put&&r.a.createElement(U,{onClick:function(){var t;return null===(t=c.put)||void 0===t?void 0:t.call(c,e)},title:p},r.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})),u&&u.length>0&&u.map((function(a,n){return r.a.createElement(U,{key:"action_".concat(t,"_").concat(n),onClick:function(){return c.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),c.delete&&r.a.createElement(U,{onClick:function(){var t;return null===(t=c.delete)||void 0===t?void 0:t.call(c,e)},title:m},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))}function h(){return r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,l.map((function(e){return r.a.createElement("th",{key:"th_".concat(e.name)},e.label||e.name)})),r.a.createElement("th",null,f))),r.a.createElement("tbody",null,o.map(g)))}return Object(n.useEffect)((function(){"infinite-scroll"===(null===s||void 0===s?void 0:s.type)&&document.body.clientHeight<=window.innerHeight&&(null===s||void 0===s?void 0:s.hasNextPage)&&v.nextPage()}),[]),"infinite-scroll"===(null===s||void 0===s?void 0:s.type)?r.a.createElement(z.a,{dataLength:o.length,next:c.getNextPage||function(){return null},hasMore:(null===s||void 0===s?void 0:s.hasNextPage)||!1,loader:r.a.createElement(R,null)},h()):r.a.createElement("div",{className:"table-wrapper"},h(),s&&"buttons"===s.type&&r.a.createElement(L,{callbacks:v,pagination:s,customLabels:d}))},$=a(74),H=a.n($);a(137);M.a.library.add(F.f,F.k,F.e);var V=function(e){var t,a,i=e.items,o=e.fields,l=e.callbacks,s=e.customActions,c=e.customLabels,u=e.pagination,d=(null===c||void 0===c?void 0:null===(t=c.buttons)||void 0===t?void 0:t.editItem)||"Edit",p=(null===c||void 0===c?void 0:null===(a=c.buttons)||void 0===a?void 0:a.deleteItem)||"Delete",m={nextPage:l.getNextPage||function(){},previousPage:l.getPreviousPage||function(){}};function f(e,t){return r.a.createElement("div",{className:"actions-wrapper"},l.put&&r.a.createElement(U,{onClick:function(){var t;return null===(t=l.put)||void 0===t?void 0:t.call(l,e)},title:d},r.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})),s&&s.length>0&&s.map((function(a,n){return r.a.createElement(U,{key:"action_".concat(t,"_").concat(n),onClick:function(){return l.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),l.delete&&r.a.createElement(U,{onClick:function(){var t;return null===(t=l.delete)||void 0===t?void 0:t.call(l,e)},title:p},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))}function v(e,t){return r.a.createElement("div",{className:"card",key:"card_".concat(t)},o.map((function(a,n){var i=b.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("div",{className:"card-row ".concat(a.type),key:"card_".concat(t,"_").concat(n)},"image"!==a.type&&r.a.createElement("label",null,a.label||a.name,": "),function(e,t,a){if("boolean"===e.type&&(a=!!a),a&&"object"===typeof a)return"object";switch(e.type){case"text":return r.a.createElement("span",null,a);case"boolean":return r.a.createElement("div",{className:"bool ".concat(a?"true":"false")});case"image":return a?r.a.createElement("img",{src:a||"",alt:a||e.label||e.name}):r.a.createElement(r.a.Fragment,null);case"url":var n=e.url||a||"";return o.forEach((function(e){var a=b.extractDataByDataPath(t,e.dataPath,e.name);n=n.replace(":".concat(e.name),a)})),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e.urlLabel||a);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:a}});case"html":var i=(e.htmlCode||"<span>{value}</span>").replace("{value}",a);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}});default:return a}}(a,e,i))})),f(e,t))}function g(e){return r.a.createElement("div",{className:"card",key:"card_".concat(e)},o.map((function(t,a){return r.a.createElement("div",{className:"card-row ".concat(t.type),key:"card_".concat(e,"_").concat(a)},"image"!==t.type&&r.a.createElement("label",null,t.label||t.name,": "),r.a.createElement(H.a,{duration:.6}))})),f({},e))}return Object(n.useEffect)((function(){"infinite-scroll"===(null===u||void 0===u?void 0:u.type)&&document.body.clientHeight<=window.innerHeight&&l.getNextPage&&(null===u||void 0===u?void 0:u.hasNextPage)&&l.getNextPage()}),[]),"infinite-scroll"===(null===u||void 0===u?void 0:u.type)?r.a.createElement(z.a,{className:"cards-wrapper",dataLength:i.length,next:l.getNextPage||function(){return null},hasMore:(null===u||void 0===u?void 0:u.hasNextPage)||!1,loader:function(){var e=i.length;return Array.from(Array(null===u||void 0===u?void 0:u.limit).keys()).map((function(t){return t+e})).map(g)}()},i.map(v)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cards-wrapper"},i.map(v)),u&&"buttons"===u.type&&r.a.createElement(L,{callbacks:m,pagination:u}))},J=a(36);a(139);M.a.library.add(F.h);var W=q((function(e){var t,a,i=e.context,o=e.field,l=e.loadedFields,u=e.direction,d=e.showReset,m=e.onChange,f=e.onRemove,v=Object(n.useState)({}),g=Object(c.a)(v,2),h=g[0],y=g[1],E=Object(n.useState)(),w=Object(c.a)(E,2),x=(w[0],w[1],i.httpService),O=i.activePage,P=i.config,k=(null===O||void 0===O?void 0:O.requestHeaders)||{},N=Object(S.a)({},null===P||void 0===P?void 0:P.customLabels,{},null===O||void 0===O?void 0:O.customLabels),C=(null===N||void 0===N?void 0:null===(t=N.buttons)||void 0===t?void 0:t.addArrayItem)||"Add Item",T=(null===N||void 0===N?void 0:null===(a=N.buttons)||void 0===a?void 0:a.clearInput)||"Clear";function q(e){var t=e.value||[];return r.a.createElement("div",{className:"array-form"},t.map((function(t,a){var n=D({value:t,name:"".concat(e.name,".").concat(a)},(function(t,n){var r=(e.value||[]).map((function(e,t){return t===a?n:e}));m(e.name,r)}));return r.a.createElement("div",{className:"array-form-item",key:"array_form_".concat(a)},n,r.a.createElement("i",{title:T,onClick:function(){return function(e,t){var a=Object(_.a)(e.value||[]);a.splice(t,1).forEach((function(e){f(o.name,e)})),m(o.name,a)}(e,a)},"aria-label":"Remove",className:"clear-input fa fa-times"}))})),r.a.createElement(U,{className:"add-array-item",onClick:function(t){return function(e,t){e.preventDefault(),m(o.name,[].concat(Object(_.a)(t.value||[]),[""]))}(t,e)},title:C,disabled:e.disabled||e.readonly},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))}function D(e,t){var a,n,i,o,c,u,d,m,f,v=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{value:e.value,placeholder:e.placeholder||a,disabled:e.readonly||e.disabled,required:e.required,onChange:function(a){return t(e.name,a.target.value)}}};switch(e.type){case"boolean":return r.a.createElement("input",Object.assign({type:"checkbox"},v(),{checked:e.value,onChange:function(a){return t(e.name,a.target.checked,!0)}}));case"select":var g,E=e.optionSource;if(E&&E.preLoad){var w=function(e,t){var a=Array(0).fill("");l.map((function(e){e.fieldName===t.name&&(a=e.values)}));var n=new Array(a.length);return a.map((function(e,t){n[t]={display:e,value:e}})),{fieldname:e,options:n}}(e.name,E);return r.a.createElement("select",v(),r.a.createElement("option",null,j().select),w.options.map((function(e,t){var a="option_".concat(t,"_");return r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})))}if(E&&!h[e.name])return function(e,t){var a,n,r,i,o,l,c;s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,a=t.url,n=t.dataPath,t.preLoad,r=t.actualMethod,i=t.requestHeaders,u.next=5,s.a.awrap(x.fetch({method:r||"get",origUrl:a,queryParams:[],headers:Object.assign({},k,i||{})}));case 5:o=u.sent,!(l=b.extractDataByDataPath(o,n))||l.length,c=l.map((function(e,a){var n=t.valuePath,r=t.displayPath;return"string"===typeof e?e:{display:r&&e[r]?e[r]:"Option ".concat(a+1),value:n&&e[n]?e[n]:"".concat(a)}})),y(Object(S.a)({},h,Object(J.a)({},e,c))),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(0),p.b.error(u.t0.message,{position:p.b.POSITION.TOP_CENTER});case 15:case"end":return u.stop()}}),null,null,[[0,12]])}(e.name,E),r.a.createElement("select",v(),r.a.createElement("option",null,"-- Loading Options... --"));var O=null===(g=e.optionSource)||void 0===g?void 0:g.sortBy,P=h[e.name]||e.options||[],_=Object(I.a)(P,"string"===typeof O?[O]:O||[]);return r.a.createElement("select",v(),r.a.createElement("option",null,j().select),_.map((function(e,t){var a="option_".concat(t,"_");return"object"!==typeof e?r.a.createElement("option",{key:"".concat(a,"_").concat(e),value:e},e):r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})));case"object":return r.a.createElement("textarea",v((null===N||void 0===N?void 0:null===(a=N.placeholders)||void 0===a?void 0:a.object)||"Enter JSON..."));case"array":var C,T=e.arrayType;return e.value&&T&&"object"!==T?q(e):r.a.createElement("textarea",v((null===N||void 0===N?void 0:null===(C=N.placeholders)||void 0===C?void 0:C.array)||"Enter JSON array..."));case"long-text":return r.a.createElement("textarea",v((null===N||void 0===N?void 0:null===(n=N.placeholders)||void 0===n?void 0:n.text)||j().enter_text));case"number":case"integer":return r.a.createElement("input",Object.assign({type:"number"},v((null===N||void 0===N?void 0:null===(i=N.placeholders)||void 0===i?void 0:i.number)||"0"),{onChange:function(a){return t(e.name,a.target.valueAsNumber)}}));case"color":return r.a.createElement("input",Object.assign({type:"color"},v((null===N||void 0===N?void 0:null===(o=N.placeholders)||void 0===o?void 0:o.color)||j().enter_color)));case"email":return r.a.createElement("input",Object.assign({type:"email"},v((null===N||void 0===N?void 0:null===(c=N.placeholders)||void 0===c?void 0:c.email)||j().enter_email)));case"password":return r.a.createElement("input",Object.assign({type:"password"},v((null===N||void 0===N?void 0:null===(u=N.placeholders)||void 0===u?void 0:u.password)||j().enter_password)));case"hidden":return r.a.createElement("input",{type:"hidden",value:e.value});case"file":return r.a.createElement("input",{type:"file",accept:e.accept||"*",placeholder:e.placeholder||(null===N||void 0===N?void 0:null===(d=N.placeholders)||void 0===d?void 0:d.file)||"Select file...",name:e.name||"file",disabled:e.readonly,required:e.required});case"note":return r.a.createElement("p",{className:"note"},e.value);case"date":return r.a.createElement("input",Object.assign({type:"date"},v((null===N||void 0===N?void 0:null===(m=N.placeholders)||void 0===m?void 0:m.date)||j().enter_date)));case"text":default:return r.a.createElement("input",Object.assign({type:"text"},v((null===N||void 0===N?void 0:null===(f=N.placeholders)||void 0===f?void 0:f.text)||j().enter_text)))}}return r.a.createElement("div",{className:"form-row ".concat(u||"row")},"hidden"!==o.type&&r.a.createElement("label",null,o.label||o.originalName,o.required?" *":""),D(o,m),d&&!o.readonly&&!o.disabled&&o.value&&o.value.length>0&&r.a.createElement("i",{title:T,onClick:function(){return m(o.name,"",!0)},"aria-label":"Clear",className:"clear-input fa fa-times"}),r.a.createElement(p.a,null))})),G=(a(63),function(e){var t=e.initialParams,a=e.paginationConfig,i=e.submitCallback,o=Object(n.useState)(t),l=Object(c.a)(o,2),s=l[0],u=l[1];function d(e){e&&e.preventDefault(),a&&"infinite-scroll"===a.type?i(s,!0):i(s)}function p(e,t,a){var n=Object(_.a)(s).map((function(a){return a.name===e&&(a.value=t),a}));u(n),a&&d()}return Object(n.useEffect)((function(){if(a&&"infinite-scroll"===a.type){var e=t.filter((function(e){return!["page","limit"].includes(e.name)}));u(e)}else u(t)}),[a,t]),s.length?r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,j().search),r.a.createElement("form",{onSubmit:d},s.map((function(e,t){return"page"==e.name?"":r.a.createElement(W,{key:"query_param_".concat(t),field:e,onChange:p,showReset:!e.type||"text"===e.type})})),r.a.createElement(U,{type:"submit",onClick:d},j().submit))):r.a.createElement(r.a.Fragment,null)});a(142);M.a.library.add(F.k);var Q=document.getElementById("popup-portal");Q||((Q=document.createElement("div")).setAttribute("id","popup-portal"),document.body.append(Q));var Y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(g.a)(t).call(this,e))).el=void 0,a.componentDidMount=function(){Q.appendChild(a.el)},a.componentWillUnmount=function(){Q.removeChild(a.el)},a.el=document.createElement("div"),a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r))))._handleKeyDown=function(e){var t=a.props,n=t.show,r=t.closeCallback;n&&27===e.keyCode&&r(e)},a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t,a=this,n=Object.assign({},{display:this.props.show?"block":"none"},this.props.style||{}),i=(null===(e=this.props.customLabels)||void 0===e?void 0:null===(t=e.buttons)||void 0===t?void 0:t.closeForm)||"Close";return r.a.createElement(Y,null,this.props.show?r.a.createElement("div",{className:"popup ".concat(this.props.className||""),style:n},r.a.createElement("div",{className:"overlay",onClick:function(e){return a.props.closeCallback(e)}}),r.a.createElement("div",{className:"popup-content",ref:this.props.refCallback},this.props.children,r.a.createElement("button",{title:i,className:"close-popup",onClick:function(e){return a.props.closeCallback(e)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))):null)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleKeyDown.bind(this))}}]),t}(n.Component),Z=new(function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"isMultipartForm",value:function(e){for(var t in e){if("file"===e[t].type)return!0}return!1}}]),e}()),X=(a(143),a(144).unflatten),ee=q((function(e){var t=e.context,a=e.title,i=e.fields,o=e.loadedFields,l=e.rawData,u=e.type,d=e.getSingleConfig,m=e.methodConfig,f=e.submitCallback,v=e.closeCallback,g=JSON.parse(JSON.stringify(i)),h=t.httpService,y=t.activePage,E=t.config,w=Object(n.useState)(!0),x=Object(c.a)(w,2),O=x[0],P=x[1],k=Object(n.useState)([]),N=Object(c.a)(k,2),I=N[0],C=N[1],T=Object(n.useState)([]),q=Object(c.a)(T,2),A=q[0],z=q[1],R=Object(n.useState)(null),M=Object(c.a)(R,2),F=M[0],L=M[1],B=(null===y||void 0===y?void 0:y.requestHeaders)||{},$=Object(S.a)({},null===E||void 0===E?void 0:E.customLabels,{},null===y||void 0===y?void 0:y.customLabels);function H(e){var t,a,n,r,i,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),t=m.includeOriginalFields?Object.assign({},F):{},a=new FormData,n=Z.isMultipartForm(I),r=null,i=[],I.forEach((function(o){if("file"!==o.type){if(t[o.name]=o.value,n&&!o.useInUrl&&a.append(o.name,o.value),o.required&&"boolean"!==o.type&&!o.value&&0!=o.value&&(r="Please fill up all required fields."),b.checkIfFieldIsObject(o)&&o.value)try{t[o.name]=JSON.parse(o.value)}catch(e){r='Invalid JSON for field "'.concat(o.name,'".')}if(!0===o.disabled&&(delete t[o.name],console.log(t)),"boolean"===o.type&&(t[o.name]=o.value||!1),"add"!==u&&"array"===o.type&&"text"===o.arrayType){var l="{",s=A.filter((function(e){return e.fieldName===o.name}));s=s.filter((function(e){return""!==e.value})),console.log(s),0!==o.value.length&&(l+=' "add": ["'+o.value.join('" , "')+'"]'),0!==o.value.length&&0!==s.length&&(l+=","),0!==s.length&&(l+='"remove": ["'+s.map((function(e){return e.value})).join('" , "')+'"]'),l+="}",t[o.name]=JSON.parse(l)}"encode"===o.type&&(t[o.name]=encodeURIComponent(o.value)),o.useInUrl&&i.push({name:o.name,value:o.value})}else{var c=document.querySelector('input[name="'.concat(o.name||"file",'"]'));if(c.files.length>0){var d=c.files[0];a.append(o.name||"file",d,d.name)}}})),!r){l.next=10;break}return p.b.error(r,{position:p.b.POSITION.TOP_CENTER}),l.abrupt("return");case 10:return P(!0),l.prev=11,o=n?a:X(t),l.next=15,s.a.awrap(f(o,n,i));case 15:p.b.success("Great Success!",{position:p.b.POSITION.TOP_CENTER}),v(!0),l.next=22;break;case 19:l.prev=19,l.t0=l.catch(11),p.b.error(l.t0.message,{position:p.b.POSITION.TOP_CENTER});case 22:P(!1);case 23:case"end":return l.stop()}}),null,null,[[11,19]])}function V(e,t){var a=JSON.parse(JSON.stringify(I));a=a.map((function(a){return a.name===e&&(a.value=t),a})),C(a)}function J(e,t){var a=Object(_.a)(A);a.push({fieldName:e,value:t}),z(a)}return Object(n.useEffect)((function(){!function(){var e,t,a,n,r,i,o,c,u,m;s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=l||{},!d||!d.url){f.next=19;break}return f.prev=2,t=d.url,a=d.requestHeaders,n=d.actualMethod,r=d.dataPath,i=d.queryParams,o=d.responseType,c=d.dataTransform,f.next=6,s.a.awrap(h.fetch({method:n||"get",origUrl:t,queryParams:i,headers:Object.assign({},B,a||{}),rawData:l,responseType:o}));case 6:if(u=f.sent,m=b.extractDataByDataPath(u,r),"function"!==typeof c){f.next=12;break}return f.next=11,s.a.awrap(c(m));case 11:m=f.sent;case 12:!m||"object"!==typeof m&&"string"!==typeof m||(e=m),f.next=19;break;case 15:f.prev=15,f.t0=f.catch(2),console.error("Could not load single item's data.",f.t0),p.b.error("Could not load single item's data.",{position:p.b.POSITION.TOP_CENTER});case 19:L(e),C(g.map((function(t){var a=t.name;t.originalName=t.name;var n=[];t.dataPath&&(n=t.dataPath.split("."),a="".concat(t.dataPath,".").concat(t.name));var r=function(){var a=e,r=!0,i=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;if(void 0===a[c]||null===a[c])return;a=a[c]}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return a[t.name]}();return t.name=a,b.checkIfFieldIsObject(t)?((r||t.value)&&(t.value=JSON.stringify(r||t.value,null,"  ")||""),t):"array"===t.type?(t.value=r||t.value||[],t):(t.value="undefined"!==typeof r?r:"undefined"===typeof t.value?"":t.value,"long-text"!==t.type&&"text"!==t.type||"string"!==typeof e||(t.value=e),t)}))),P(!1);case 22:case"end":return f.stop()}}),null,null,[[2,15]])}()}),[]),r.a.createElement(K,{show:!0,className:"form-popup",closeCallback:function(){return v(!1)},customLabels:$},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("section",null,O?r.a.createElement(D,null):r.a.createElement("form",{onSubmit:H},I.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(W,{key:"field_".concat(t),field:e,loadedFields:o,onChange:V,onRemove:J,showReset:!e.type||"text"===e.type}),r.a.createElement("br",null),r.a.createElement("hr",null))})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(U,{type:"submit",onClick:H,color:"green"},j().submit)))),r.a.createElement(p.a,null)))})),te=(a(146),function(e){var t=e.onChange;return r.a.createElement("section",{className:"filter-wrapper"},r.a.createElement("h5",null,"Filter:"),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Search...",onChange:function(e){return t(e.target.value.toLowerCase())}})))}),ae=function(e){return"query"===e.source},ne=function(e){return"body"===e.source},re=function(e){return"query"===e.source},ie=function(e){return"body"===e.source},oe=(a(43),a(147),a(22));a(168),a(169);M.a.library.add(F.c,F.g,F.j,F.i);var le=q((function(e){var t=e.dataMat,a=e.prev,i=e.prevCallback,o=e.next,l=e.nextCallback,s=e.zoomIn,u=e.zoomInCallback,d=e.zoomOut,m=e.zoomOutCallback;Object(n.useEffect)((function(){w(Array(t.length).fill({date:"",y:""})),h(Array(t.length).fill(!1))}),[]);var f=Object(n.useState)(Array(1).fill(!1)),v=Object(c.a)(f,2),g=v[0],h=v[1],b=Object(n.useState)(Array(0)),y=Object(c.a)(b,2),E=y[0],w=y[1];function x(e,t){var a=Object(_.a)(g),n=a[e];n=t,a[e]=n,h(a)}return r.a.createElement("div",{className:"graphHolder"},r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(U,{className:"button-margin",title:j().previous_page,onClick:function(){return i()},disabled:!a},r.a.createElement("i",{className:"fa fa-backward","aria-hidden":"true"})),r.a.createElement(U,{className:"button-margin",title:j().next_page,onClick:function(){return l()},disabled:!o},r.a.createElement("i",{className:"fa fa-forward","aria-hidden":"true"})),r.a.createElement(U,{className:"button-margin",title:j().zoomIn,onClick:function(){return u()},disabled:!s},r.a.createElement("i",{className:"fa fa-search-plus","aria-hidden":"true"})),r.a.createElement(U,{className:"button-margin",title:j().zoomOut,onClick:function(){return m()},disabled:!d},r.a.createElement("i",{className:"fa fa-search-minus","aria-hidden":"true"}))),r.a.createElement("br",null),t.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("h2",null,e.nameStruct),r.a.createElement("br",null),r.a.createElement(oe.f,{width:1600,height:600,xType:"ordinal",onMouseLeave:function(){return x(t,!1)}},r.a.createElement(oe.d,null),r.a.createElement(oe.b,null),r.a.createElement(oe.e,{title:"t",tickTotal:7,tickFormat:function(e){return new Date(+e).toString().substr(4,6)}}),r.a.createElement(oe.g,{title:e.unitMeasure}),r.a.createElement(oe.c,{data:e.dataStruct,onValueMouseOver:function(e){x(t,!0),function(e,t){var a=Object(_.a)(E),n=a[e];n=t,a[e]=n,w(a)}(t,{x:e.x.toString(),y:e.y.toString()}),console.log(e)}}),g[t]&&r.a.createElement(oe.a,{value:E[t]},r.a.createElement("div",{style:{background:"grey"}},"Start time: "+new Date(+E[t].x).toString(),r.a.createElement("br",null),j().value+": "+E[t].y))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null))})),r.a.createElement(p.a,null))})),se=(a(170),q((function(e){var t=e.context,a=e.title,i=e.fields,o=e.graphConfig,l=e.closeCallback,u=JSON.parse(JSON.stringify(i)),d=t.httpService,p=t.activePage,m=t.config,f=Object(n.useState)(!0),v=Object(c.a)(f,2),g=v[0],h=v[1],y=Object(n.useState)(!0),E=Object(c.a)(y,2),w=E[0],x=E[1],O=Object(n.useState)(!1),P=Object(c.a)(O,2),k=P[0],N=P[1],I=Object(n.useState)(a),C=Object(c.a)(I,2),T=C[0],q=C[1],A=Object(n.useState)(u),z=Object(c.a)(A,2),R=z[0],M=z[1],F=Object(n.useState)(),L=Object(c.a)(F,2),B=L[0],$=L[1],H=Object(n.useState)(),V=Object(c.a)(H,2),J=V[0],G=V[1],Q=Object(n.useState)(),Y=Object(c.a)(Q,2),Z=Y[0],X=Y[1],ee=Object(n.useState)(),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(),ie=Object(c.a)(re,2),oe=ie[0],se=ie[1],ce=Object(n.useState)(),ue=Object(c.a)(ce,2),de=ue[0],pe=ue[1],me=Object(n.useState)(!0),fe=Object(c.a)(me,2),ve=fe[0],ge=fe[1],he=Object(n.useState)(1),be=Object(c.a)(he,2),ye=be[0],Ee=be[1],we=Object(n.useState)(0),xe=Object(c.a)(we,2),Oe=xe[0],je=xe[1],Pe=Object(n.useState)(),ke=Object(c.a)(Pe,2),_e=ke[0],Se=ke[1],Ne=Object(n.useState)(null),Ie=Object(c.a)(Ne,2),Ce=(Ie[0],Ie[1]),Te=Object(n.useState)(null),qe=Object(c.a)(Te,2),De=qe[0],Ae=qe[1],ze=Object(n.useState)(0),Ue=Object(c.a)(ze,2),Re=(Ue[0],Ue[1]),Me=Object(n.useState)(0),Fe=Object(c.a)(Me,2),Le=Fe[0],Be=Fe[1],$e=Object(S.a)({},null===m||void 0===m?void 0:m.customLabels,{},null===p||void 0===p?void 0:p.customLabels);function He(e,t,a){var n=Object(_.a)(R).map((function(a){return a.name===e&&(a.value=t),a}));M(n),a&&Qe()}function Ve(){var e,t,a,n,r,i,l,c,u,p=arguments;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=p.length>0&&void 0!==p[0]&&p[0],m.next=3,s.a.awrap(d.fetch({method:"get",origUrl:o.url,queryParams:R,exactMatch:!0,headers:{"content-type":"application/json"}}));case 3:if(t=m.sent,a=De,!0!==e){m.next=13;break}return"",R.map((function(e){return"feature"===e.name?e.value:{}})),m.next=10,s.a.awrap(d.fetch({method:"get",origUrl:"/features/",queryParams:R.filter((function(e){return"feature"===e.name&&(e.name="_id")})),exactMatch:!0,headers:{"content-type":"application/json"}}));case 10:n=m.sent,R.filter((function(e){return"_id"===e.name&&(e.name="feature")})),a=b.extractDataByDataPath(n,"docs");case 13:return r=t.page,i=t.totalPages,l=t.totalDocs,c=t.limit,u=b.extractDataByDataPath(t,o.dataPath),m.abrupt("return",{fetchedData:u,fetchedFeature:a,pageNum:r,totalPages:i,totalDocs:l,limit:c});case 19:case"end":return m.stop()}}))}function Je(e,t){var a=new Array,n=new Array,r=new Array;if(t.map((function(e){return e.items.map((function(e,t){if(0!==e.dimension||"number"!==e.type)return null;a.push(t),n.push(e.name),r.push(e.unit)}))})),0===a.length)return h(!1),null;for(var i=new Array(a.length),o=0;o<i.length;o++)i[o]=new Array;e.map((function(e){return e.samples.map((function(t){return t.values.map((function(t,n){a.includes(n)&&i[a.indexOf(n)].push({x:Date.parse(e.startDate),y:t})}))}))}));for(var l=Array(),s=0;s<n.length;s++)l[s]={nameStruct:n[s],dataStruct:i[s].reverse(),unitMeasure:r[s]};return l}function We(e,t){var a,n,r,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(a=e).filter((function(e){return"page"===e.name&&(e.value=1+parseInt(e.value)+"")})),l.next=4,s.a.awrap(d.fetch({method:"get",origUrl:o.url,queryParams:a,exactMatch:!0,headers:{"content-type":"application/json"}}));case 4:return n=l.sent,r=b.extractDataByDataPath(n,o.dataPath),a.filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)-1+"")})),i=Je(r,t),l.abrupt("return",i);case 9:case"end":return l.stop()}}))}function Ge(e,t){var a,n,r,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(a=e).filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)-1+"")})),l.next=4,s.a.awrap(d.fetch({method:"get",origUrl:o.url,queryParams:a,exactMatch:!0,headers:{"content-type":"application/json"}}));case 4:return n=l.sent,r=b.extractDataByDataPath(n,o.dataPath),a.filter((function(e){return"page"===e.name&&(e.value=parseInt(e.value)+1+"")})),i=Je(r,t),l.abrupt("return",i);case 9:case"end":return l.stop()}}))}function Qe(){var e,t,a,n,r,i,o,l,c,u,d,p,m,f;return s.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return h(!0),x(!0),v.next=4,s.a.awrap(Ve(!0));case 4:if(e=v.sent,t=e.fetchedData,a=e.fetchedFeature,n=e.pageNum,r=e.totalPages,i=e.totalDocs,o=e.limit,Ce(t),Ae(a),Ee(n),je(r),Re(i),Be(o),null!==(l=Je(t,a))){v.next=21;break}return Se(j().wrong_feature_error),v.abrupt("return");case 21:if(0!==l[0].dataStruct.length){v.next=25;break}return Se(j().no_data_error),h(!1),v.abrupt("return");case 25:if($(l),u=n<r,d=o>3,p=o<i,ne(c=n>1),se(u),pe(d),ge(p),N(!0),q(j().graph+" "+a[0]._id),h(!1),m=null,f=null,!0!==u){v.next=43;break}return v.next=42,s.a.awrap(We(R,a));case 42:m=v.sent;case 43:if(!0!==c){v.next=47;break}return v.next=46,s.a.awrap(Ge(R,a));case 46:f=v.sent;case 47:G(m),X(f);case 49:case"end":return v.stop()}}))}function Ye(){var e,t,a,n,r,i,o,l,c,u,d,p,m;return s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,s.a.awrap(Ve());case 2:if(e=f.sent,t=e.fetchedData,a=e.pageNum,n=e.totalPages,r=e.totalDocs,i=e.limit,h(!0),Ee(a),je(n),null!==(o=Je(t,De))){f.next=15;break}return Se(j().wrong_feature_error),f.abrupt("return");case 15:if(0!==o[0].dataStruct.length){f.next=19;break}return Se(j().no_data_error),h(!1),f.abrupt("return");case 19:if($(o),c=a<n,u=i>3,d=i<r,ne(l=a>1),se(c),pe(u),ge(d),Re(r),Be(i),h(!1),p=null,m=null,!0!==c){f.next=37;break}return f.next=36,s.a.awrap(We(R,De));case 36:p=f.sent;case 37:if(!0!==l){f.next=41;break}return f.next=40,s.a.awrap(Ge(R,De));case 40:m=f.sent;case 41:G(p),X(m);case 43:case"end":return f.stop()}}))}return Object(n.useEffect)((function(){h(!1),x(!1),N(!1)}),[]),r.a.createElement(K,{show:!0,className:"graph-popup",closeCallback:function(){return l(!1)},customLabels:$e},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,T),g?r.a.createElement(D,null):w?k?r.a.createElement(le,{dataMat:B,prev:oe,prevCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),console.log("Entered PrevShifting"),X(B),$(J),h(!1),se(ye+1<Oe),ne(ye+1>1),Ee(ye+1),t.next=10,s.a.awrap(We(R,De));case 10:e=t.sent,G(e);case 12:case"end":return t.stop()}}))},next:ae,nextCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),console.log("Entered NextShifting"),G(B),$(Z),se(ye-1<Oe),ne(ye-1>1),Ee(ye-1),t.next=9,s.a.awrap(Ge(R,De));case 9:e=t.sent,X(e);case 11:case"end":return t.stop()}}))},zoomIn:de,zoomInCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:h(!0),console.log("Entered Decrease Sample"),(e=R).filter((function(e){return"limit"===e.name&&(e.value=Le-2+"")})),M(e),Ye(),h(!1);case 7:case"end":return t.stop()}}))},zoomOut:ve,zoomOutCallback:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:h(!0),console.log("Entered Increase Sample"),(e=R).filter((function(e){return"limit"===e.name&&(e.value=2+Le+"")})),M(e),Ye(),h(!1);case 7:case"end":return t.stop()}}))}}):r.a.createElement("h1",null,_e):r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,j().graph),r.a.createElement("form",{onSubmit:Qe},R.map((function(e,t){return"page"==e.name?"":r.a.createElement(W,{key:"query_param_".concat(t),field:e,onChange:He,showReset:!e.type||"text"===e.type})})),r.a.createElement(U,{type:"submit",onClick:Qe},j().submit)))))}))),ce=function(e,t){var a=void 0;if(t)if(re(t)){var n,r,i,o,l,s,c,u,d,p,m,f,v,g,h,b,y,E,w;if(a={source:t.source,type:t.type,page:parseInt((null===(n=t.params)||void 0===n?void 0:null===(r=n.page)||void 0===r?void 0:r.value)||"1"),limit:parseInt((null===(i=t.params)||void 0===i?void 0:null===(o=i.limit)||void 0===o?void 0:o.value)||"10"),descending:"true"===(null===(l=t.params)||void 0===l?void 0:null===(s=l.descending)||void 0===s?void 0:s.value)||!1,hasPreviousPage:!1,hasNextPage:!1,sortBy:null===(c=t.params)||void 0===c?void 0:null===(u=c.sortBy)||void 0===u?void 0:u.value},!Object(C.find)(e,{name:"page"}))e.push({name:null===t||void 0===t?void 0:null===(f=t.params)||void 0===f?void 0:null===(v=f.page)||void 0===v?void 0:v.name,label:(null===t||void 0===t?void 0:null===(g=t.params)||void 0===g?void 0:null===(h=g.page)||void 0===h?void 0:h.label)||"Page",value:null===(b=a)||void 0===b?void 0:b.page});if((null===t||void 0===t?void 0:null===(d=t.params)||void 0===d?void 0:d.limit)&&!Object(C.find)(e,{name:"limit"}))e.push({name:t.params.limit.name,label:t.params.limit.label||"Limit",value:null===(y=a)||void 0===y?void 0:y.limit});if((null===t||void 0===t?void 0:null===(p=t.params)||void 0===p?void 0:p.descending)&&!Object(C.find)(e,{name:"descending"}))e.push({name:t.params.descending.name,label:t.params.descending.label||"Descending",value:null===(E=a)||void 0===E?void 0:E.descending});if((null===t||void 0===t?void 0:null===(m=t.params)||void 0===m?void 0:m.sortBy)&&!Object(C.find)(e,{name:"sortBy"}))e.push({name:t.params.sortBy.name,label:"Sort by",value:null===(w=a)||void 0===w?void 0:w.sortBy})}else{if(!ie(t))throw new Error("unrecognized pagination");var x,O,j,P;a={source:"body",type:t.type,hasNextPage:!1,hasPreviousPage:!1,next:null,previous:null,limit:parseInt((null===(x=t.params)||void 0===x?void 0:null===(O=x.limit)||void 0===O?void 0:O.value)||"10")},(null===t||void 0===t?void 0:null===(j=t.params)||void 0===j?void 0:j.limit)&&!Object(C.find)(e,{name:"limit"})&&e.push({name:t.params.limit.name,label:t.params.limit.label||"Limit",value:null===(P=a)||void 0===P?void 0:P.limit})}return{initQueryParams:e,initialPagination:a}},ue=q((function(e){var t,a,i,o,l,u=e.context,m=e.loadedFields,f=Object(d.h)().page,v=Object(d.g)(),g=v.push,h=v.location,y=u.activePage,E=u.error,w=u.setError,x=u.httpService,O=u.config,P=(null===y||void 0===y?void 0:y.requestHeaders)||{},k=null===y||void 0===y?void 0:y.methods,T=(null===y||void 0===y?void 0:y.customActions)||[],q=null===k||void 0===k?void 0:k.getAll,z=null===q||void 0===q?void 0:q.pagination,R="infinite-scroll"===(null===z||void 0===z?void 0:z.type),M=null===k||void 0===k?void 0:k.getSingle,F=null===k||void 0===k?void 0:k.post,L=null===k||void 0===k?void 0:k.graph,$=null===k||void 0===k?void 0:k.put,H=null===k||void 0===k?void 0:k.delete,J=Object(S.a)({},null===O||void 0===O?void 0:O.customLabels,{},null===y||void 0===y?void 0:y.customLabels),W=(null===J||void 0===J?void 0:null===(t=J.buttons)||void 0===t?void 0:t.addItem)||"+ "+j().add+" "+(null===y||void 0===y?void 0:y.itemName),Q=j().graph+" "+(null===y||void 0===y?void 0:y.itemName),Y=(null===J||void 0===J?void 0:null===(a=J.formTitles)||void 0===a?void 0:a.addItem)||j().add+" "+(null===y||void 0===y?void 0:y.itemName),K=(null===J||void 0===J?void 0:null===(i=J.formTitles)||void 0===i?void 0:i.editItem)||j().update+" "+(null===y||void 0===y?void 0:y.itemName),Z=j().graph+" "+(null===y||void 0===y?void 0:y.itemName),X=ce((null===q||void 0===q?void 0:q.queryParams)||[],z),oe=X.initQueryParams,le=X.initialPagination,ue=Object(n.useState)(!1),de=Object(c.a)(ue,2),pe=de[0],me=de[1],fe=Object(n.useState)(null),ve=Object(c.a)(fe,2),ge=ve[0],he=ve[1],be=Object(n.useState)(null),ye=Object(c.a)(be,2),Ee=ye[0],we=ye[1],xe=Object(n.useState)(oe),Oe=Object(c.a)(xe,2),je=Oe[0],Pe=Oe[1],ke=Object(n.useState)(le),_e=Object(c.a)(ke,2),Se=_e[0],Ne=_e[1],Ie=Object(n.useState)([]),Ce=Object(c.a)(Ie,2),Te=Ce[0],qe=Ce[1],De=Object(n.useState)(""),Ae=Object(c.a)(De,2),ze=Ae[0],Ue=Ae[1];function Re(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:he({rawData:e,type:"update",title:K,config:$,getSingleConfig:M,submitCallback:function(t,a){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(He(t,e,a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}});case 2:case"end":return t.stop()}}))}function Me(e,t){var a={rawData:e,type:"action",title:t.name||"Custom Action",config:t,submitCallback:function(a,n){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(Fe(a,e,t,n));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))}};he(a)}function Fe(e,t,a,n){var r,i,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=a.url,i=a.requestHeaders,o=a.actualMethod,l.next=3,s.a.awrap(x.fetch({method:o||"put",origUrl:r,rawData:t,body:n?e:JSON.stringify(e),headers:Object(S.a)({},P,{},i||{},{},n?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}))}function Le(e){var t,a,n,r,i,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.a.awrap(x.fetch({method:e.actualMethod||"get",origUrl:e.url,queryParams:je,headers:Object.assign({},P,e.requestHeaders||{})}));case 2:if(t=l.sent,a=b.extractDataByDataPath(t,e.dataPath)){l.next=6;break}throw new Error("Could not extract data from response.");case 6:if(Array.isArray(a)){l.next=8;break}throw new Error("Extracted data is invalid.");case 8:if("function"!==typeof e.dataTransform){l.next=12;break}return l.next=11,s.a.awrap(e.dataTransform(a));case 11:a=l.sent;case 12:n=Object(I.a)(a,"string"===typeof e.sortBy?[e.sortBy]:e.sortBy||[]),z&&(i=(null===(r=z.fields)||void 0===r?void 0:r.total)?b.extractDataByDataPath(t,z.fields.total.dataPath):void 0,(o=We(je,t,i))&&Ne(o)),qe(R?[].concat(Object(_.a)(Te),Object(_.a)(n)):n);case 15:case"end":return l.stop()}}))}function Be(){var e,t,a,n,r,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!R){o.next=13;break}if(!Se){o.next=11;break}if(!ae(Se)){o.next=6;break}1!==(null===Se||void 0===Se?void 0:Se.page)&&me(!1),o.next=11;break;case 6:if(!ne(Se)){o.next=10;break}Se.previous&&me(!1),o.next=11;break;case 10:throw new Error("unrecognized pagination source");case 11:o.next=14;break;case 13:me(!0);case 14:if(w(null),o.prev=15,q){o.next=18;break}throw new Error("Get all method is not defined.");case 18:if(!z||Se){o.next=20;break}throw new Error("Pagination not initialized.");case 20:return e=q.url,t=q.requestHeaders,a=q.actualMethod,n=q.dataPath,r=q.sortBy,i=q.dataTransform,o.next=23,s.a.awrap(Le({actualMethod:a,url:e,requestHeaders:t,dataPath:n,dataTransform:i,sortBy:r}));case 23:o.next=28;break;case 25:o.prev=25,o.t0=o.catch(15),w(o.t0.message);case 28:me(!1);case 29:case"end":return o.stop()}}),null,null,[[15,25]])}function $e(e,t,a){var n,r,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(F){o.next=2;break}throw new Error("Post method is not defined.");case 2:return n=F.url,r=F.requestHeaders,i=F.actualMethod,o.next=5,s.a.awrap(x.fetch({method:i||"post",origUrl:n,queryParams:a,body:t?e:JSON.stringify(e),headers:Object(S.a)({},P,{},r||{},{},t?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}))}function He(e,t,a){var n,r,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if($){o.next=2;break}throw new Error("Put method is not defined.");case 2:return n=$.url,r=$.requestHeaders,i=$.actualMethod,o.next=5,s.a.awrap(x.fetch({method:i||"put",origUrl:n,rawData:t,body:a?e:JSON.stringify(e),headers:Object(S.a)({},P,{},r||{},{},a?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}))}function Ve(e){var t,a,n,r;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(window.confirm("Are you sure you want to delete this item?")){i.next=3;break}return i.abrupt("return");case 3:if(i.prev=3,H){i.next=6;break}throw new Error("Delete method is not defined.");case 6:return t=H.url,a=H.requestHeaders,n=H.actualMethod,i.next=9,s.a.awrap(x.fetch({method:n||"delete",origUrl:t,rawData:e,headers:Object.assign({},P,a||{}),responseType:"boolean"}));case 9:i.sent&&("infinite-scroll"===(null===Se||void 0===Se?void 0:Se.type)?(qe([]),r=Object(_.a)(je),Object(C.remove)(r,(function(e){return["page","limit"].includes(e.name)})),Pe(ce(r,z).initQueryParams)):Be()),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(3),p.b.error(i.t0.message,{position:p.b.POSITION.TOP_CENTER});case 16:case"end":return i.stop()}}),null,null,[[3,13]])}function Je(e,t){if(!pe){t&&(qe([]),Object(C.remove)(e,(function(e){return["page","limit"].includes(e.name)})),e=ce(e,z).initQueryParams),e.map((function(e,t){"select"===e.type&&e.value===j().select&&(e.value="")})),Pe(e),Ne(We(e,null));var a=Object(_.a)(e);"infinite-scroll"===(null===z||void 0===z?void 0:z.type)&&(a=a.filter((function(e){return!["page","limit"].includes(e.name)})));var n=a.map((function(e,t){return"".concat(0===t?"?":"").concat(e.name,"=").concat(encodeURIComponent(e.value||""))})).join("&");f&&n&&g(n)}}function We(e,t,a){if(z){if(re(z)){var n,r,i,o,l,s,c,u,d,p,m,f;if(Se&&!ae(Se))throw new Error("unexpected pagination source "+Se.source);var v=Se||{source:"query",type:z.type,page:parseInt((null===(n=z.params)||void 0===n?void 0:null===(r=n.page)||void 0===r?void 0:r.value)||"1"),limit:parseInt((null===(i=z.params)||void 0===i?void 0:null===(o=i.limit)||void 0===o?void 0:o.value)||"10"),descending:"true"===(null===(l=z.params)||void 0===l?void 0:null===(s=l.descending)||void 0===s?void 0:s.value)||!1,hasPreviousPage:!1,hasNextPage:!1,sortBy:null===(c=z.params)||void 0===c?void 0:null===(u=c.sortBy)||void 0===u?void 0:u.value};return v.total=a||(null===Se||void 0===Se?void 0:Se.total),v.page=parseInt(null===(d=e.find((function(e){var t,a;return e.name===(null===z||void 0===z?void 0:null===(t=z.params)||void 0===t?void 0:null===(a=t.page)||void 0===a?void 0:a.name)})))||void 0===d?void 0:d.value)||v.page,v.limit=parseInt(null===(p=e.find((function(e){var t,a;return e.name===(null===z||void 0===z?void 0:null===(t=z.params)||void 0===t?void 0:null===(a=t.limit)||void 0===a?void 0:a.name)})))||void 0===p?void 0:p.value)||v.limit,v.descending="true"===(null===(m=e.find((function(e){var t,a;return e.name===(null===z||void 0===z?void 0:null===(t=z.params)||void 0===t?void 0:null===(a=t.descending)||void 0===a?void 0:a.name)})))||void 0===m?void 0:m.value)||v.descending,v.sortBy=(null===(f=e.find((function(e){var t,a;return e.name===(null===z||void 0===z?void 0:null===(t=z.params)||void 0===t?void 0:null===(a=t.sortBy)||void 0===a?void 0:a.name)})))||void 0===f?void 0:f.value)||v.sortBy,v.hasPreviousPage=A.hasPreviousPage(v.page),v.hasNextPage=A.hasNextPage(v.page,v.limit,v.total),v}if(ie(z)){var g,h,b;if(Se&&!ne(Se))throw new Error("unexpected pagination source "+Se.source);var y=Se||{source:"body",type:z.type,next:t[z.params.nextPath||j().next],previous:t[z.params.prevPath||j().previous],hasNextPage:!!t[z.params.nextPath||j().next],hasPreviousPage:!!t[z.params.prevPath||j().previous],limit:parseInt((null===(g=z.params)||void 0===g?void 0:null===(h=g.limit)||void 0===h?void 0:h.value)||"10"),total:t[z.params.countPath||"count"]};return t&&(y.next=t[z.params.nextPath||j().next],y.previous=t[z.params.prevPath||j().previous],y.hasNextPage=!!t[z.params.nextPath||j().next],y.hasPreviousPage=!!t[z.params.prevPath||j().previous],y.total=t[z.params.countPath||"count"]),y.limit=parseInt(null===(b=e.find((function(e){var t,a;return e.name===(null===z||void 0===z?void 0:null===(t=z.params)||void 0===t?void 0:null===(a=t.limit)||void 0===a?void 0:a.name)})))||void 0===b?void 0:b.value)||y.limit,y}throw new Error("unrecognized pagination source")}}return Object(n.useEffect)((function(){var e,t,a=(null===u||void 0===u?void 0:null===(e=u.config)||void 0===e?void 0:null===(t=e.pages)||void 0===t?void 0:t.filter((function(e,t){return e.id===f||t+1===parseInt(f||"")}))[0])||null;u.setActivePage(a)}),[f]),Object(n.useEffect)((function(){var e=ce((null===q||void 0===q?void 0:q.queryParams)||[],z),t=e.initQueryParams,a=e.initialPagination;qe([]),Pe(function(e){if(!z||re(z)){var t=N.parse(h.search),a=e.map((function(e){return"undefined"!==typeof t[e.name]?e.value="boolean"===e.type?"true"===t[e.name]:decodeURIComponent(t[e.name]):e.value=e.value||"",e}));return Ne(We(a,null)),a}return e}(t)),Ne(a)}),[y]),Object(n.useEffect)((function(){Be()}),[je]),r.a.createElement("div",{className:"app-page"},r.a.createElement("header",{className:"app-page-header"},r.a.createElement("hgroup",null,r.a.createElement("h2",null,null===y||void 0===y?void 0:y.name),(null===y||void 0===y?void 0:y.description)&&r.a.createElement("h4",null,null===y||void 0===y?void 0:y.description)),L&&r.a.createElement(U,{className:"add-item",color:"blue",onClick:function(){return function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:we(t={title:Z,config:e}),console.log(t),console.log(Ee);case 4:case"end":return a.stop()}}))}(L)}},Q),F&&r.a.createElement(U,{className:"add-item",color:"green",onClick:function(){return he({type:"add",title:Y,config:F,submitCallback:$e})}},W)),r.a.createElement("main",{className:"app-page-content"},function(){var e,t=((null===q||void 0===q?void 0:q.fields)||(null===q||void 0===q?void 0:null===(e=q.display)||void 0===e?void 0:e.fields)||[]).filter((function(e){return e.filterable})).map((function(e){return e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{initialParams:je,paginationConfig:z,submitCallback:Je}),t.length>0&&r.a.createElement(te,{onChange:Ue}),(null===Se||void 0===Se?void 0:Se.total)&&function(){if(!pe&&Te.length){if(!Se||ae(Se)){var e,t,a=(((null===Se||void 0===Se?void 0:Se.page)||1)-1)*((null===Se||void 0===Se?void 0:Se.limit)||10)+1,n=a+Te.length-1,i="".concat(j().showing_result," ").concat(a,"-").concat(n," ").concat(j().out_of," ").concat(null===Se||void 0===Se?void 0:Se.total," ").concat(j().items);if("infinite-scroll"===(null===Se||void 0===Se?void 0:Se.type)&&(i="Showing ".concat(null===Se||void 0===Se?void 0:Se.total," items")),null===J||void 0===J?void 0:null===(e=J.pagination)||void 0===e?void 0:e.itemsCount)i=null===J||void 0===J?void 0:null===(t=J.pagination)||void 0===t?void 0:t.itemsCount.replace(":currentCountFrom",a).replace(":currentCountTo",a).replace(":totalCount",null===Se||void 0===Se?void 0:Se.total);return r.a.createElement("p",{className:"center pagination-state"},i)}if(ne(Se)){var o,l,s="Total Results: ".concat(null===Se||void 0===Se?void 0:Se.total);if("infinite-scroll"===(null===Se||void 0===Se?void 0:Se.type)&&(s="Showing ".concat(null===Se||void 0===Se?void 0:Se.total," items")),null===J||void 0===J?void 0:null===(o=J.pagination)||void 0===o?void 0:o.itemsCount)s=null===J||void 0===J?void 0:null===(l=J.pagination)||void 0===l?void 0:l.itemsCount.replace(":totalCount",null===Se||void 0===Se?void 0:Se.total);return r.a.createElement("p",{className:"center pagination-state"},s)}}}(),E?r.a.createElement("div",{className:"app-error"},E):function(){var e;if(pe)return r.a.createElement(D,null);var t=(null===q||void 0===q?void 0:q.fields)||(null===q||void 0===q?void 0:null===(e=q.display)||void 0===e?void 0:e.fields)||[],a=t.filter((function(e){return e.filterable})).map((function(e){return e.name})),n=Te;if(ze&&a.length&&(n=Te.filter((function(e){var t=!1;return a.forEach((function(a){var n=e[a];"string"===typeof n&&n.toLowerCase().indexOf(ze)>=0&&(t=!0)})),t}))),!n.length)return r.a.createElement("div",{className:"app-error"},j().nothing_to_see);var i=z?function(){if(re(z)){if(Se&&!ae(Se))throw new Error("unexpected pagination source "+Se.source);if((null===Se||void 0===Se?void 0:Se.page)&&je.length>0){var e=(null===Se||void 0===Se?void 0:Se.page)+1;Je(je.map((function(t){var a,n;return t.name===(null===(a=z.params)||void 0===a?void 0:null===(n=a.page)||void 0===n?void 0:n.name)?Object(S.a)({},t,{value:e}):t})))}}else{if(!ie(z))throw new Error("unrecognized pagination source");if(Se&&!ne(Se))throw new Error("unexpected pagination source "+Se.source);if(!q||!(null===Se||void 0===Se?void 0:Se.next))return;var t=q.requestHeaders,a=q.actualMethod,n=q.dataPath,r=q.sortBy,i=q.dataTransform;Le({actualMethod:a,url:Se.next,requestHeaders:t,dataPath:n,dataTransform:i,sortBy:r})}}:null,o=z?function(){if(re(z)){if(Se&&!ae(Se))throw new Error("unexpected pagination source "+Se.source);if((null===Se||void 0===Se?void 0:Se.page)&&Se.page>1&&je.length>0){var e=(null===Se||void 0===Se?void 0:Se.page)-1;Je(je.map((function(t){var a,n;return t.name===(null===(a=z.params)||void 0===a?void 0:null===(n=a.page)||void 0===n?void 0:n.name)?Object(S.a)({},t,{value:e}):t})))}}else{if(!ie(z))throw new Error("unrecognized pagination source");if(Se&&!ne(Se))throw new Error("unexpected pagination source "+Se.source);if(!q||!(null===Se||void 0===Se?void 0:Se.previous))return;var t=q.requestHeaders,a=q.actualMethod,n=q.dataPath,r=q.sortBy,i=q.dataTransform;Le({actualMethod:a,url:Se.previous,requestHeaders:t,dataPath:n,dataTransform:i,sortBy:r})}}:null,l={delete:H?Ve:null,put:$?Re:null,action:T.length?Me:function(){},getNextPage:i,getPreviousPage:o};return"cards"===(null===q||void 0===q?void 0:q.display.type)?r.a.createElement(V,{pagination:Se,callbacks:l,fields:t,items:n,customActions:T,customLabels:J}):r.a.createElement(B,{pagination:Se,callbacks:l,fields:t,items:n,customActions:T,customLabels:J})}())}()),ge&&r.a.createElement(ee,{title:ge.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(he(null),!0===e)if("infinite-scroll"===(null===Se||void 0===Se?void 0:Se.type)){qe([]);var t=Object(_.a)(je);Object(C.remove)(t,(function(e){return["page","limit"].includes(e.name)})),Pe(ce(t,z).initQueryParams)}else Be()},submitCallback:ge.submitCallback,type:ge.type,fields:(null===(o=ge.config)||void 0===o?void 0:o.fields)||[],loadedFields:m,rawData:ge.rawData,getSingleConfig:ge.getSingleConfig,methodConfig:ge.config}),Ee&&r.a.createElement(se,{title:Ee.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(we(null),!0===e)if("infinite-scroll"===(null===Se||void 0===Se?void 0:Se.type)){qe([]);var t=Object(_.a)(je);Object(C.remove)(t,(function(e){return["page","limit"].includes(e.name)})),Pe(ce(t,z).initQueryParams)}else Be()},fields:(null===(l=Ee.config)||void 0===l?void 0:l.fields)||[],graphConfig:Ee.config}),r.a.createElement(p.a,null))})),de=(a(173),a(174),function(){function e(e){sessionStorage.setItem("diten-language",e),window.location.reload()}return r.a.createElement("div",null,j().language,r.a.createElement("div",null,r.a.createElement(U,{title:"It",onClick:function(){return e("it")}},"Ita"),r.a.createElement(U,{title:"En",onClick:function(){return e("en")}},"Eng")))}),pe=q((function(e){var t,a=e.context,i=Object(n.useState)(""),o=Object(c.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(""),m=Object(c.a)(d,2),f=m[0],v=m[1],g=Object(n.useState)(""),h=Object(c.a)(g,2),b=h[0],y=h[1],E=a.setError,w=a.httpService,x=Object(n.useState)(null),O=Object(c.a)(x,2),P=O[0],k=O[1],_={url:"/tenants/",actualMethod:"post",requestHeaders:{"content-type":"application/json"},fields:[{name:"token",type:"text",value:"",label:"Token"},{name:"_id",type:"text",value:"",label:"ID"},{name:"organization",type:"text",value:"",label:"Organizzazione"},{name:"address",type:"text",value:"",label:"Indirizzo"},{name:"email",type:"email",value:"",label:"e-mail"},{name:"phone",type:"text",value:"",label:"Telefono"},{name:"admin_username",type:"text",value:"",label:"Username Amministratore"},{name:"admin_password",type:"password",value:"",label:"Password Amministratore"}],queryParams:[]};function S(e){var t,a,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,t={username:"".concat(l),password:"".concat(f),tenant:"".concat(b)},r.next=5,s.a.awrap(w.fetch({method:"post",origUrl:w.loginUrl,body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 5:if(a=r.sent){r.next=8;break}throw new Error(j().login_error);case 8:if(401!==a.status){r.next=10;break}throw new Error(j().login_error);case 10:if("admin"===a.user.type){r.next=12;break}throw new Error(j().login_unauthorised_user);case 12:return sessionStorage.setItem("diten-token",a.token),sessionStorage.setItem("diten-token-expiration-time",a.token_expiration_time),sessionStorage.setItem("diten-username",a.user.username),sessionStorage.setItem("diten-user-role",a.user.type),sessionStorage.setItem("diten-user-tenant",b),sessionStorage.setItem("diten-user-fieldmask",a.user.fieldmask),sessionStorage.setItem("diten-login-time",(new Date).getTime().toString()),r.next=21,s.a.awrap(w.fetch({method:"get",origUrl:w.baseUrl+"/users/"+a.user._id,headers:{"content-type":"application/json"}}));case 21:n=r.sent,sessionStorage.setItem("diten-user-fieldmask",n.fieldmask),window.location.replace("/"),r.next=30;break;case 26:r.prev=26,r.t0=r.catch(1),E(r.t0.message),p.b.error(r.t0.message,{position:p.b.POSITION.TOP_CENTER});case 30:case"end":return r.stop()}}),null,null,[[1,26]])}function N(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(_){a.next=2;break}throw new Error("Post method is not defined.");case 2:return console.log(e),t=e.token,delete e.token,a.next=7,s.a.awrap(w.fetch({method:"post",origUrl:w.baseUrl+"/tenants",body:JSON.stringify(e),headers:{"content-type":"application/json",Authorization:t}}));case 7:a.sent;case 8:case"end":return a.stop()}}))}return r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"language-wrapper"},r.a.createElement(de,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,j().login),r.a.createElement("form",{className:"form-content",onSubmit:S},r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,j().username),r.a.createElement("input",{type:"text",placeholder:j().username_suggestion,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,j().password),r.a.createElement("input",{type:"password",placeholder:j().password_suggestion,onChange:function(e){v(e.target.value)}})),r.a.createElement("div",{className:"form-row row"},r.a.createElement("label",null,j().tenant),r.a.createElement("input",{type:"text",placeholder:j().tenant_suggestion,onChange:function(e){y(e.target.value)}})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(U,{type:"submit",onClick:S,color:"green"},j().submit))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-content"},r.a.createElement("div",{className:"form-row row"},r.a.createElement("h5",null,j().add_tenant),r.a.createElement("div",{className:"buttons-wrapper center"}),r.a.createElement(U,{title:j().add_tenant,onClick:function(){return k({type:"add",title:j().add_tenant,config:_,submitCallback:N})},color:"green"},r.a.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"})))),P&&r.a.createElement(ee,{title:P.title,closeCallback:function(){k(null)},submitCallback:P.submitCallback,fields:(null===(t=P.config)||void 0===t?void 0:t.fields)||[],rawData:P.rawData,getSingleConfig:P.getSingleConfig,methodConfig:P.config}),r.a.createElement(p.a,null))}));a(175);M.a.library.add(F.k,F.d);var me=q((function(e){var t=e.context.config,a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],l=i[1];return r.a.createElement("nav",{className:"app-nav"},r.a.createElement(U,{className:"app-nav-opener",onClick:function(){return l(!o)}},o?r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})),r.a.createElement("div",{className:"app-nav-wrapper ".concat(o?"opened":"")},r.a.createElement("div",{className:"app-nav-links"},((null===t||void 0===t?void 0:t.pages)||[]).map((function(e,t){return r.a.createElement(u.b,{to:"/".concat(e.id||t+1),activeClassName:"active",key:"page_".concat(t),onClick:function(){return l(!1)}},e.name)})))))}));a(176);M.a.library.add(F.p,F.n,F.m,F.o,F.l);var fe=q((function(e){e.context.config;var t=Object(n.useState)(),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(),s=Object(c.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)(),m=Object(c.a)(p,2),f=m[0],v=m[1],g=Object(n.useState)(),h=Object(c.a)(g,2),b=h[0],y=h[1],E=Object(n.useState)(),w=Object(c.a)(E,2),x=w[0],O=w[1],P=Object(n.useState)("00:00"),k=Object(c.a)(P,2),_=k[0],S=k[1];function N(){var e;if(void 0===b){var t=sessionStorage.getItem("diten-login-time");null!==t?(e=parseInt(t),y(parseInt(t))):e=Date.now()}else e=b;var a=(e+function(){var e;if(void 0===x){var t=sessionStorage.getItem("diten-token-expiration-time");null!==t?(e=t,O(t)):e="5m"}else e=x;return e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()-Date.now())/1e3;a=a>0?a:0;var n=Math.floor(a/60),r=Math.floor(a%60);S(n+" : "+("0"+r).slice(-2))}return Object(n.useEffect)((function(){var e=sessionStorage.getItem("diten-username"),t=sessionStorage.getItem("diten-user-role"),a=sessionStorage.getItem("diten-user-tenant"),n=sessionStorage.getItem("diten-login-time"),r=sessionStorage.getItem("diten-token-expiration-time");o(null!==e?e:""),d(null!==t?t:""),v(null!==a&&""!==a?a:"-"),O(null!==r?r:"300m"),y(null!==n?parseInt(n):Date.now()),setTimeout((function(){N()}),1e3)}),[_]),r.a.createElement("div",{className:"rightbar"},r.a.createElement("h2",null,j().welcome+" ",r.a.createElement("b",null,i),r.a.createElement("br",null),j().role+" ","admin"===u?r.a.createElement("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===u?r.a.createElement("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===u?r.a.createElement("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===u?r.a.createElement("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})),r.a.createElement("h3",null,j().tenant+" ",r.a.createElement("b",null,f),r.a.createElement("br",null),j().session_expire_in,_),r.a.createElement("hr",null),r.a.createElement("h2",null,r.a.createElement(de,null)),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"logout-wrapper"},r.a.createElement(U,{color:"red",onClick:function(){return sessionStorage.clear(),void document.location.replace("/")}},j().logout)))})),ve=function(e){var t=e.styles.vars||{},a=[];for(var n in t)a.push("--".concat(n,": ").concat(t[n]));return r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n      :root {\n        ".concat(a.join(";"),"\n      }\n    ")}})},ge=(a(177),new y),he="Measurify GUI";function be(e){var t=document.createElement("link"),a=document.getElementById("favicon");t.id="favicon",t.rel="shortcut icon",t.href=e,a&&document.head.removeChild(a),document.head.appendChild(t)}var ye=function(){var e,t,a,i=Object(n.useState)(Array(0)),o=Object(c.a)(i,2),l=o[0],m=o[1],f=Object(n.useState)(),v=Object(c.a)(f,2),g=v[0],h=v[1],b=Object(n.useState)(!0),y=Object(c.a)(b,2),E=y[0],w=y[1],x=Object(n.useState)(null),O=Object(c.a)(x,2),P=O[0],_=O[1],S=Object(n.useState)((null===P||void 0===P?void 0:null===(e=P.pages)||void 0===e?void 0:e[0])||null),N=Object(c.a)(S,2),I=N[0],C=N[1],q=Object(n.useState)(null),D=Object(c.a)(q,2),A=D[0],z=D[1],U=(null===P||void 0===P?void 0:P.name)||he;Object(n.useEffect)((function(){!function e(t){var a,n,r,i,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,i=null===(a=window.RESTool)||void 0===a?void 0:a.config,t||!i){l.next=6;break}o=Object.assign({},i,{}),l.next=16;break;case 6:if(!t){l.next=12;break}return l.next=9,s.a.awrap(k.getRemoteConfig(t));case 9:l.t0=l.sent,l.next=15;break;case 12:return l.next=14,s.a.awrap(k.loadDefaultConfig());case 14:l.t0=l.sent;case 15:o=l.t0;case 16:if(console.log("setting global"),ge.baseUrl=o.baseUrl||"",ge.loginUrl=o.loginUrl||"",ge.errorMessageDataPath=o.errorMessageDataPath||"",ge.unauthorizedRedirectUrl=o.unauthorizedRedirectUrl||"",ge.requestHeaders=o.requestHeaders||{},document.title=o.name||he,(null===(n=o)||void 0===n?void 0:n.favicon)&&be(o.favicon),!(null===(r=o)||void 0===r?void 0:r.remoteUrl)){l.next=28;break}return l.next=27,s.a.awrap(e(o.remoteUrl));case 27:return l.abrupt("return",l.sent);case 28:console.log("set config"),_(o),l.next=35;break;case 32:l.prev=32,l.t1=l.catch(0),console.error("Could not load config file",l.t1);case 35:w(!1);case 36:case"end":return l.stop()}}),null,null,[[0,32]])}(),h(!1)}),[]),Object(n.useEffect)((function(){var e=k.validateConfig(P),t=e.isValid,a=e.errorMessage;if(!t)return z(a),void p.b.error(a,{position:p.b.POSITION.TOP_CENTER})}),[P]);var R=sessionStorage.getItem("diten-token");return null===R?r.a.createElement("div",{className:"restool-app"},r.a.createElement(T.Provider,{value:{config:P,activePage:I,setActivePage:C,error:A,setError:z,httpService:ge}},r.a.createElement(u.a,null,r.a.createElement(d.b,{exact:!0,path:"/",component:pe})))):(null!==R&&!1===g&&(!function(){var e,t,a,n,r;s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.a.awrap(ge.fetch({method:"get",origUrl:ge.baseUrl+"v1/types",headers:{"content-type":"application/json"}}));case 2:for(r in e=i.sent,t=Array(12).fill({fieldName:"",values:[]}),a=Object.keys(e),n=Object.values(e),t)t[r]={fieldName:a[r],values:Object.values(n[r])};m(t);case 8:case"end":return i.stop()}}))}(),h(!0)),r.a.createElement("div",{className:"restool-app"},P?r.a.createElement(T.Provider,{value:{config:P,activePage:I,setActivePage:C,error:A,setError:z,httpService:ge}},P.customStyles&&r.a.createElement(ve,{styles:P.customStyles}),r.a.createElement(u.a,null,r.a.createElement("aside",null,r.a.createElement("h1",{title:j().scroll_to_top,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=window.scrollY/2,a=0,n=performance.now();window.requestAnimationFrame((function r(i){(a+=Math.PI/(e/(i-n)))>=Math.PI&&window.scrollTo(0,0),0!==window.scrollY&&(window.scrollTo(0,Math.round(t+t*Math.cos(a))),n=i,window.requestAnimationFrame(r))}))}()}},U),r.a.createElement(me,null)),P&&r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",component:pe}),r.a.createElement(d.b,{exact:!0,path:"/:page",component:function(){return r.a.createElement(ue,{loadedFields:l})}}),r.a.createElement(d.a,{path:"/",to:"/".concat((null===P||void 0===P?void 0:null===(t=P.pages)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id)||"1")})),r.a.createElement("div",{className:"right-bar"},r.a.createElement(fe,null)),r.a.createElement(p.a,{position:p.b.POSITION.TOP_CENTER,autoClose:4e3,draggable:!1}))):r.a.createElement("div",{className:"app-error"},E?"Loading Configuration...":"Could not find config file.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(178);o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,a){},80:function(e,t,a){e.exports=a(179)}},[[80,1,2]]]);
//# sourceMappingURL=main.2d60d5f0.chunk.js.map