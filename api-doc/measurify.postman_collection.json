{
	"info": {
		"_postman_id": "f3274ad4-71d8-40b0-92eb-f2c008c9889c",
		"name": "Atmosphere",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "DEMOS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST demo contents (tags, features, things, devices, measurements, constraints, scripts, rights)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"",
									"if(data.users) pm.environment.set('users', JSON.stringify(data.users));",
									"if(data.tags) pm.environment.set('tags', JSON.stringify(data.tags));",
									"if(data.features) pm.environment.set('features', JSON.stringify(data.features));",
									"if(data.devices) pm.environment.set('devices', JSON.stringify(data.devices));",
									"if(data.things) pm.environment.set('things', JSON.stringify(data.things));",
									"if(data.measurements) pm.environment.set('measurements', JSON.stringify(data.measurements));",
									"if(data.constraints) pm.environment.set('measurements', JSON.stringify(data.constraints));",
									"if(data.scripts) pm.environment.set('scripts', JSON.stringify(data.scripts));",
									"if(data.rights) pm.environment.set('rights', JSON.stringify(data.rights));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET demo contents",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"",
									"if(data.users) pm.environment.set('users', JSON.stringify(data.users));",
									"if(data.tags) pm.environment.set('tags', JSON.stringify(data.tags));",
									"if(data.features) pm.environment.set('features', JSON.stringify(data.features));",
									"if(data.devices) pm.environment.set('devices', JSON.stringify(data.devices));",
									"if(data.things) pm.environment.set('things', JSON.stringify(data.things));",
									"if(data.measurements) pm.environment.set('measurements', JSON.stringify(data.measurements));",
									"if(data.constraints) pm.environment.set('measurements', JSON.stringify(data.constraints));",
									"if(data.scripts) pm.environment.set('scripts', JSON.stringify(data.scripts));",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE demo contents",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "LOGIN",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as a provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('provider_username', users[1].username);",
									"pm.environment.set('provider_password', users[1].password);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"{{provider_username}}\",\n\t\"password\" : \"{{provider_password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('analyst_username', users[2].username);",
									"pm.environment.set('analyst_password', users[2].password);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"{{analyst_username}}\",\n\t\"password\" : \"{{analyst_password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "USERS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of usernames",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/usernames?filter={\"username\":{\"$regex\": \"user\"}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"usernames"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"username\":{\"$regex\": \"user\"}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"user\", JSON.parse(responseBody)._id);",
									"pm.environment.set(\"username\", JSON.parse(responseBody).username);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": " {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-usernatme-test-2\",\n\t\"password\" : \"user-password-test-2\",\n\t\"type\" : \"analyst\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list new users",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{\n\t\t\"username\" : \"user-username-test-1\",\n\t\t\"password\" : \"user-password-test-1\",\n\t\t\"type\" : \"analyst\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-2\",\n\t\t\"password\" : \"user-password-test-2\",\n\t\t\"type\" : \"provider\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-3\",\n\t\t\"password\" : \"user-password-test-3\",\n\t\t\"type\" : \"provider\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-4\",\n\t\t\"password\" : \"user-password-test-4\",\n\t\t\"type\" : \"provider\"\n\t}\n]"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as new analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-usernatme-test-2\",\n\t\"password\" : \"user-password-test-2\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify password (with id)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"password\": \"new password\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users/{{user}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{user}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as user with modified password",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-usernatme-test-2\",\n\t\"password\" : \"new password\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify password (with username)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"password\": \"new password 2\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users/{{username}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{username}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as user with new modified password",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-usernatme-test-2\",\n\t\"password\" : \"new password 2\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a user",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ac6fb60f-7c09-436a-ba38-f566a11f51c0",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('user_id', users[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/users/{{user_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{user_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "TAGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all tags",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new tag",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "76819835-2375-4dfe-8aa8-fae946a42057",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bd874835-93b3-4a87-a6ca-aafede282d25",
								"exec": [
									"pm.environment.set(\"tag\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \n\t\"_id\": \"test_tag\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new tags (tagged)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4ec82747-a423-4ab5-b8e3-2e24cd7f56fc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n  { \"_id\": \"tagged-tag-1\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-2\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-3\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-4\", \"tags\": [\"{{tag}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all tags filtered by tag",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "164db961-624c-4869-8013-891731c7d870",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('tag', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/tags?filter={\"tags\": \"{{tag}}\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"tags\": \"{{tag}}\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a tag (not used)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "cd6a833f-3c29-4c26-aec0-18d6ba8611bf",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/tags/{{tag}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags",
								"{{tag}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FEATURES",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all features",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8eaff9c0-fdbc-4288-9f4f-9c2e4dfa4a83",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('feature', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one feature",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/features/{{feature}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features",
								"{{feature}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2e852dd1-b983-4f2e-b17b-e20748f69c69",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "175d28d8-231a-46db-a349-1575bea419e9",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"_id\": \"position\",\n    \"items\": [\n    \t{\n        \t\"name\": \"longitude\",\n            \"unit\": \"degree\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        },\n        {\n        \t\"name\": \"latitude\",\n            \"unit\": \"degree\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        }\n    ]\n}\n"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new features",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{\r\n\t    \"_id\": \"heart-rate\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"beats-per-minute\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t},\r\n\t{\r\n\t    \"_id\": \"interbeat-interval\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"milliseconds\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t},\r\n\t{\r\n\t    \"_id\": \"pulse-amplitude\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"millivolts\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t}\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a feature (only if not used)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/features/{{feature}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features",
								"{{feature}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "456fc2af-4476-4ca2-93e5-dd906d435c6d",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "d85e52bf-edb2-4a2c-9091-9ef9a7fafe10",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "THINGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all things",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a7324839-b51b-4903-b355-dbef14f112b8",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('thing', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/things",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one thing",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/things/{{thing}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								"{{thing}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new thing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"car-test\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new things",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"car-test-1\", \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] },\r\n\t{ \"_id\": \"car-test-2\", \"tags\": [\"{{tag2}}\"] },\r\n\t{ \"_id\": \"car-test-3\", \"tags\": [\"{{tag1}}\"] },\r\n\t{ \"_id\": \"car-test-4\", \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/things",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a things",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/things/{{thing}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								"{{thing}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d1485609-c27d-45f7-ae95-28528344c308",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c5825004-8324-4962-8058-cf927abe398c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "DEVICES",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7a842a86-4aad-493d-bcc5-2550c20d5d9f",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('device', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/devices",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7ccd41a2-55d2-4233-a8af-cbe664425404",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/devices/{{device}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								"{{device}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"gps\",\r\n    \"features\": [ \"position\" ],\r\n    \"period\": \"5s\",\r\n    \"cycle\": \"10m\",\r\n    \"retryTime\": \"10s\",\r\n    \"scriptListMaxSize\": 5,\r\n    \"measurementBufferSize\": 20,\r\n    \"issueBufferSize\": 20,\r\n    \"sendBufferSize\": 20,\r\n    \"scriptStatementMaxSize\": 5,\r\n    \"statementBufferSize\": 10,\r\n    \"measurementBufferPolicy\": \"decimation\"\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new devices",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"device-test-1\", \"features\": [\"{{feature1}}\", \"{{feature2}}\"], \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] },\r\n\t{ \"_id\": \"device-test-2\", \"features\": [\"{{feature1}}\", \"{{feature2}}\"], \"tags\": [\"{{tag2}}\"] },\r\n\t{ \"_id\": \"device-test-3\", \"features\": [\"{{feature1}}\"], \"tags\": [\"{{tag1}}\"] },\r\n\t{ \"_id\": \"device-test-4\", \"features\": [\"{{feature2}}\"], \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/devices",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a device (only if not used to collect measurements)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/devices/{{device}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								"{{device}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ce4981b5-c96d-4a5c-addf-fe25424c5391",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "23a90929-2746-4cef-a360-fd4858ef9b4a",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "ISSUES",
			"item": [
				{
					"name": "LOGIN as a provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('provider_username', users[1].username);",
									"pm.environment.set('provider_password', users[1].password);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"{{provider_username}}\",\n\t\"password\" : \"{{provider_password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new issue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var devices = JSON.parse(pm.environment.get(\"devices\"));",
									"pm.environment.set('device_id', devices[0]._id);",
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"device\": \"{{device_id}}\",\r\n    \"date\": \"{{current_timestamp}}\",\r\n    \"message\": \"this is a message\",\r\n    \"type\": \"generic\"\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/issues/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"issues",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all his issues",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7a842a86-4aad-493d-bcc5-2550c20d5d9f",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('issue', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/issues",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"issues"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of issue types",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/issues/types",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"issues",
								"types"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ce4981b5-c96d-4a5c-addf-fe25424c5391",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "23a90929-2746-4cef-a360-fd4858ef9b4a",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CONSTRAINTS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all constraints",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0b14ad3a-95cf-49c8-aa0f-84028b69423c",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('constraint', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/constraints",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one constraint",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/constraints/{{constraint}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								"{{constraint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new constraint",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "be9c2cbb-da3b-4c75-a6de-9b34c5bf0c74",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"var features = JSON.parse(pm.environment.get(\"features\"));",
									"pm.environment.set('tag', tags[0]._id);",
									"pm.environment.set('feature', features[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"type1\": \"Tag\",\r\n\t\"type2\": \"Feature\",\r\n\t\"element1\": \"{{tag}}\",\r\n\t\"element2\": \"{{feature}}\",\r\n\t\"relationship\": \"dependency\"\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/constraints/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new constraints",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e73d95be-8d19-4e56-be35-91ee6926af92",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"var features = JSON.parse(pm.environment.get(\"features\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);",
									"pm.environment.set('feature1', features[0]._id);",
									"pm.environment.set('feature2', features[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n  {\r\n    \"type1\": \"Feature\",\r\n    \"type2\": \"Tag\",\r\n    \"element1\": \"{{feature1}}\",\r\n    \"element2\": \"{{tag1}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Tag\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{tag1}}\",\r\n    \"element2\": \"{{feature2}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Tag\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{tag2}}\",\r\n    \"element2\": \"{{feature1}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Feature\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{feature2}}\",\r\n    \"element2\": \"{{feature1}}\",\r\n    \"relationship\": \"dependency\"\r\n  }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/constraints?verbose=true",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints"
							],
							"query": [
								{
									"key": "verbose",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a constraint by id",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/constraints/{{constraint}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								"{{constraint}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FIELDMASK",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new fieldmask",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"fieldmask\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"analyst-mask-2\",\r\n  \"measurement_fields\": [\"samples\", \"startDate\", \"device\"]\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/fieldmasks/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"fieldmasks",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify of a fieldmask",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"measurement_fields\": {\r\n\t\"remove\": [\"device\"],\r\n  \t\"add\": [\"endDate\"]\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/fieldmasks/{{fieldmask}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"fieldmasks",
								"{{fieldmask}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to associate a fieldmask to a user",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c4769826-e12f-420b-a3f4-bce00c9b7b78",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('user', users[2]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"fieldmask\": \"{{fieldmask}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/v1/users/{{user}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{user}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as user with fieldmask",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-analyst-name-1\",\n\t\"password\" : \"analyst-password-1\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all measurements with masked fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "MEASUREMENTS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all measurements",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all measurements with CSV format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "text/csv",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all measurements size",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements/count",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"count"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one measurement",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements/{{measurement}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"{{measurement}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET only the first two measurements (paginated)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?limit=2&page=2",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "limit",
									"value": "2"
								},
								{
									"key": "page",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET only start date of all measurements (selected)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?select={\"startDate\":1}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "select",
									"value": "{\"startDate\":1}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"tags\":\"urban\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"tags\":\"urban\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements size only from a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements/count?filter={\"tags\":\"urban\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"count"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"tags\":\"urban\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"feature\":\"speed\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"feature\":\"speed\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature AND a with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter=\"$and\":[{\"feature\":\"speed\"}, {\"tags\":\"urban\"}]",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "\"$and\":[{\"feature\":\"speed\"}, {\"tags\":\"urban\"}]"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature, baseFeatures, and a with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?aggregator=[{\"$lookup\": { \"from\": \"things\", \"localField\": \"relatedThings\", \"foreignField\": \"_id\", \"as\": \"thing_docs\"}},\n{ \"$addFields\": { \"metadata\": \"$thing_docs.metadata\" }},\n{ \"$addFields\": { \"mileage\": \"$metadata.mileage\" }},\n{ \"$addFields\": { \"type\": \"$metadata.type\" }},\n{ \"$match\":{ \"$and\": [{\"type\": \"Ordinary\"},{\"feature\": \"Stat\"},{\"baseFeatures\":  { \"$size\": 1,\"$all\": [\"VehicleSpeed\"] } }]}}] ",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "aggregator",
									"value": "[{\"$lookup\": { \"from\": \"things\", \"localField\": \"relatedThings\", \"foreignField\": \"_id\", \"as\": \"thing_docs\"}},\n{ \"$addFields\": { \"metadata\": \"$thing_docs.metadata\" }},\n{ \"$addFields\": { \"mileage\": \"$metadata.mileage\" }},\n{ \"$addFields\": { \"type\": \"$metadata.type\" }},\n{ \"$match\":{ \"$and\": [{\"type\": \"Ordinary\"},{\"feature\": \"Stat\"},{\"baseFeatures\":  { \"$size\": 1,\"$all\": [\"VehicleSpeed\"] } }]}}] "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature OR with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/v1/measurements?filter=[{\"feature\":\"speed-statistics\"}, {\"tags\":\"automatic\"}]",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "[{\"feature\":\"speed-statistics\"}, {\"tags\":\"automatic\"}]"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new measurement",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"startDate\": \"{{current_timestamp}}\",\r\n\t\"endDate\": \"{{current_timestamp}}\",\r\n\t\"thing\": \"car-test\",\r\n\t\"feature\": \"position\",\r\n\t\"device\": \"gps\",\r\n\t\"samples\": [\r\n\t\t{\r\n\t\t\t\"values\": [80, 10]\r\n\t\t\t}\r\n\t\t],\r\n\t\"tags\":[]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[13.1563809880239,3.4746090967566,1,668,31.3,19.3597744360902,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[12.0088029576339,5.09970767568572,806,139,31.3,20.6303956834532,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[19.2496260683761,0.113796895263035,1260,52,31.3,20.25,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[17.0521572104019,0.510756201646162,1432,47,31.3,20.0558510638298,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[0,0,1604,35,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[7.31194679849342,2.85329428697543,1663,118,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[12.7761494252874,0.706362455991267,1782,58,31.3,20.2068965517241,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[15.469212962963,0.292797630924325,1883,24,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[16.8641516516517,0.0875035749305456,1936,37,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[7.39215203106332,4.78677170688576,2089,186,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[15.750422705314,1.11392768277992,2360,69,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[21.4730257116621,0.780299560797208,2430,121,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.0786868686868,0.827350709696825,2751,110,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[28.1921737213404,0.350575435392229,2862,126,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[28.5417417417418,0.45922413269494,3185,37,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[28.9978427895981,0.12831023817071,3448,47,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[27.6613888888889,0.254335754044991,3825,45,31.3,20,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.3932438794727,0.619162847356931,3883,59,31.3,19.8347457627119,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.8238264767932,0.67408032169169,4034,316,31.3,19.6467563291139,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.6094918699187,1.08671657169904,4351,410,31.3,19.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.2610920852359,0.75626007873541,4772,73,31.3,19.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.4653876898481,0.289430990695237,4853,139,31.3,19.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.2525114155251,0.119154889112271,4994,73,31.3,19.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.5727686261842,0.584542792313596,5077,516,31.3,19.7843992248062,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.7690900383141,0.379501332604287,5946,145,31.3,20.2025862068966,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[27.3845878136201,0.172978608881249,6260,31,31.3,20.25,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.1648352260075,1.26922647444736,6315,499,31.3,20.4659318637275,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.1912037037037,0.697679862446531,7301,24,31.3,21,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.7097222222222,0.102484737852544,7449,23,31.3,21,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.7545,0.167489127138899,7482,50,31.3,21,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.024460909284,1.5173151924719,7542,523,31.3,20.8902963671128,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[32.4355507662835,1.23648247631337,9300,290,31.3,21.6103448275862,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[24.59079218107,0.0761321912173291,10390,27,31.3,21.6064814814815,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[33.3214849108367,2.41747832281529,10486,81,31.3,21.75,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.3534523809524,0.186036826528444,11051,35,31.3,22,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.295269726248,0.441018397229973,11483,69,31.3,21.75,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.3335286458333,1.42153426103631,12335,64,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[33.3775428921568,0.569997888113548,12614,136,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.7875816993464,0.133583309555244,13004,136,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.1625,0.243079552859191,13352,22,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.1329415954416,0.318462919479314,13677,39,31.3,21.4262820512821,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[28.9703525641026,0.171828825922352,13747,26,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.1642717717717,1.27020450922798,13817,370,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[32.3025308641975,0.09610710095239,14188,45,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.0014915693904,1.22061355358727,14242,514,31.3,21.5,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[8.88569023569024,0.718882878622896,15326,33,31.3,21.5757575757576,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[16.2403174603175,0.189209552676792,15609,35,31.3,21.75,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[19.4999368686869,0.654878824662637,15710,44,31.3,21.90625,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[27.2577599388379,0.634271177092714,16648,109,31.3,22.25,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.7633475328363,0.744072273699254,16961,313,31.3,22.2394169329073,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.4250595238095,0.622920498995632,17279,770,31.3,22.0496753246753,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.306855867347,0.804384370640155,18057,784,31.3,21.9532844387755,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.7340936739659,0.198256213923975,18911,137,31.3,22,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.0883698092031,0.123156384599698,19074,297,31.3,21.9305555555556,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[25.6299603174603,0.16132477621716,19584,42,31.3,22.25,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.4559032235059,0.925851440295042,19801,779,31.3,22.431161745828,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.7542605105105,0.547350140881462,20830,74,31.3,23,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[30.6760721247563,0.517723188625181,21171,57,31.3,23.1425438596491,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[31.0582070707071,0.0684597223997769,21344,55,31.3,23.0954545454545,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[29.2298647660818,0.640440836323494,21733,380,31.3,23.29375,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]},\n{\"thing\":\"84189782\",\"feature\":\"Uninfluenced_driving\",\"device\":\"Matlab\",\"samples\":{\"values\":[28.3009738604922,3.85218276318222,22212,763,31.3,23.5135976408912,1,1]},\"tags\":[\"Uninfluenced_driving\",\"Baseline\",\"All\",\"Professional\"]}\n]"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a measurement by id",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/measurements{{measurement}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements{{measurement}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a list of measurements",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "SCRIPTS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all scripts",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a7324839-b51b-4903-b355-dbef14f112b8",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('script', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/scripts",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one script",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/scripts/{{script}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts",
								"{{script}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new script",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"script\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"script-test\",\r\n  \"code\": \"this is my test code\",\r\n  \"tags\": [\"{{tag1}}\"]\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/scripts/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify of a script",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);",
									"pm.environment.set('tag3', tags[2]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"code\": \"this is my modified test code\",\r\n  \"tags\": {\r\n\t\"remove\": [\"{{tag1}}\"],\r\n  \t\"add\": [\"{{tag2}}\",\"{{tag3}}\"]\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/scripts/{{script}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts",
								"{{script}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new scripts",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"script-test-1\", \"code\": \"code test 1\" },\r\n\t{ \"_id\": \"script-test-2\", \"code\": \"code test 2\" },\r\n\t{ \"_id\": \"script-test-3\", \"code\": \"code test 3\" },\r\n\t{ \"_id\": \"script-test-4\", \"code\": \"code test 4\" }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/scripts",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a script",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/scripts/{{script}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"scripts",
								"{{script}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d1485609-c27d-45f7-ae95-28528344c308",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c5825004-8324-4962-8058-cf927abe398c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "COMPUTATIONS (OUTLIERS)",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a thing called office",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"office\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST temperature feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e57057a1-0744-4e29-9285-2182096eb533",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"_id\": \"temperature\",\r\n   \"items\": [\r\n\t   \t{\r\n\t      \t\"name\": \"value\",\r\n\t        \"unit\": \"celsius degrees\",\r\n\t        \"type\": \"number\",\r\n            \"dimension\": 0\r\n\t    }\r\n\t]\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a thermometer device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"thermometer\",\r\n    \"features\": [\"{{feature}}\"]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST temperature measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"12\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"14\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\",  \n\t\t\"samples\": [ { \"numbers\": [\"51\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"12\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"10\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\",  \n\t\t\"samples\": [ { \"numbers\": [\"9\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"16\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"1\"] } ] \n\t}\n]\n"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all temperature of office paginated",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"thing\":\"{{thing}}\"}&limit=5&page=1 ",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"thing\":\"{{thing}}\"}"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "page",
									"value": "1 "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a computation to identify temperature outliers",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d5804f46-8442-49cf-a4ef-4156def6e3ae",
								"exec": [
									"pm.environment.set(\"computation\", JSON.parse(responseBody)._id);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"name\": \"Find outliers from temperature in office\",\r\n\t\"code\": \"outliers()\",\r\n\t\"filter\": \"{\\\"thing\\\":\\\"{{thing}}\\\", \\\"feature\\\":\\\"{{feature}}\\\"}\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/computations",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the computation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/computations/{{computation}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations",
								"{{computation}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all outliers from temperature of office paginated",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"thing\":\"{{thing}}\", \"tags\":\"outlier\"}&limit=5&page=1 ",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"thing\":\"{{thing}}\", \"tags\":\"outlier\"}"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "page",
									"value": "1 "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE the computation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/computations/{{computation}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations",
								"{{computation}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "RIGHTS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all rights",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a7324839-b51b-4903-b355-dbef14f112b8",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('right', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/rights",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one right",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/rights/{{right}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights",
								"{{right}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new right",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var things = JSON.parse(pm.environment.get(\"things\"));",
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('user', users[0]._id);",
									"pm.environment.set('thing', things[0]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"right\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"resource\": \"{{thing}}\",\r\n  \"type\": \"Thing\",\r\n  \"user\": \"{{user}}\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/rights/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new right using username",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var things = JSON.parse(pm.environment.get(\"things\"));",
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('username', users[3].username);",
									"pm.environment.set('thing', things[0]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"right\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"resource\": \"{{thing}}\",\r\n  \"type\": \"Thing\",\r\n  \"user\": \"{{username}}\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/rights/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify of a right",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);",
									"pm.environment.set('tag3', tags[2]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"visibility\": \"public\",\r\n  \"tags\": {\r\n\t\"remove\": [\"{{tag1}}\"],\r\n  \t\"add\": [\"{{tag2}}\",\"{{tag3}}\"]\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/rights/{{right}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights",
								"{{right}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new rights",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var things = JSON.parse(pm.environment.get(\"things\"));",
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('user', users[0]._id);",
									"pm.environment.set('thing1', things[1]._id);",
									"pm.environment.set('thing2', things[2]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{\r\n\t  \"resource\": \"{{thing1}}\",\r\n\t  \"type\": \"Thing\",\r\n\t  \"user\": \"{{user}}\"\r\n\t},\r\n\t{\r\n\t  \"resource\": \"{{thing2}}\",\r\n\t  \"type\": \"Thing\",\r\n\t  \"user\": \"{{user}}\"\r\n\t}\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/rights",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a rights",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/rights/{{right}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights",
								"{{right}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d1485609-c27d-45f7-ae95-28528344c308",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c5825004-8324-4962-8058-cf927abe398c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "LOGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Logs as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/log",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"log"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ACCESS CONTROL",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST tags",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4ec82747-a423-4ab5-b8e3-2e24cd7f56fc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n  { \"_id\": \"tag-1\", \"tags\": [] },\r\n  { \"_id\": \"tag-2\", \"tags\": [] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST things ",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"thing-1\", \"tags\": [\"tag-1\", \"tag-2\"] },\r\n\t{ \"_id\": \"thing-2\", \"tags\": [\"tag-2\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/things",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST features",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[ \r\n  { \"_id\": \"feature-1\", \"items\": [{\"name\": \"value\", \"unit\": \"unit\", \"type\": \"number\", \"dimension\": 0}], \"tags\": [\"tag-1\", \"tag-2\"] },\r\n  { \"_id\": \"feature-2\", \"items\": [{\"name\": \"value\", \"unit\": \"unit\", \"type\": \"number\", \"dimension\": 0}], \"tags\": [\"tag-1\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST devices",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"device-1\", \"features\": [\"feature-1\", \"feature-2\"], \"tags\": [\"tag-1\", \"tag-2\"] },\r\n\t{ \"_id\": \"device-2\", \"features\": [\"feature-1\"], \"tags\": [\"tag-2\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/devices",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST users",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "031a7bf6-1907-4e98-928d-c8ac62bf00d6",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"pm.environment.set('analyst-1', data.users[0]._id);",
									"pm.environment.set('analyst-2', data.users[1]._id);",
									"pm.environment.set('provider-1', data.users[2]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[ \n\t{ \"username\" : \"analyst-1\", \"password\" : \"analyst-1\", \"type\" : \"analyst\" },\n\t{ \"username\" : \"analyst-2\", \"password\" : \"analyst-2\", \"type\" : \"analyst\" },\n\t{ \"username\" : \"provider-1\", \"password\" : \"provider-1\", \"type\" : \"provider\" }\n]"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST rights",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"resource\": \"thing-1\",   \"type\": \"Thing\",   \"user\": \"{{analyst-1}}\" },\r\n\t{ \"resource\": \"device-1\",  \"type\": \"Device\",  \"user\": \"{{analyst-1}}\" },\r\n\t{ \"resource\": \"feature-1\", \"type\": \"Feature\", \"user\": \"{{analyst-2}}\" },\r\n\t{ \"resource\": \"tag-1\",\t   \"type\": \"Tag\",     \"user\": \"{{analyst-2}}\" },\r\n\t{ \"resource\": \"feature-2\", \"type\": \"Feature\", \"user\": \"{{provider-1}}\" }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/rights",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"rights"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-1\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\", \"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-2\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-2\"], \"visibility\": \"public\" },\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-1\", \"device\": \"device-2\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-1\", \"device\": \"device-2\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\", \"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-1\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-1\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\", \"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-2\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-1\", \"device\": \"device-2\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-1\", \"device\": \"device-2\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\", \"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-1\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\"], \"visibility\": \"private\" }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "Admin get all measurements (10)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as analyst-1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"analyst-1\",\n\t\"password\" : \"analyst-1\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Analist-1 gets just measurements of thing-1 and device-1 (3)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as analyst-2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"analyst-2\",\n\t\"password\" : \"analyst-2\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Analist-2 gets just measurements of feature-1 and tag-1 (8)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as provider-1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-1\",\n\t\"password\" : \"provider-1\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST provider-1 measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-1\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-1\", \"tag-2\"], \"visibility\": \"private\" },\r\n\t{ \"thing\": \"thing-1\", \"feature\": \"feature-2\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-2\"], \"visibility\": \"public\" },\r\n\t{ \"thing\": \"thing-2\", \"feature\": \"feature-2\", \"device\": \"device-1\", \"samples\": [{\"values\":[10]}], \"tags\":[\"tag-2\"], \"visibility\": \"private\" }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "Provider-1 gets just his own or public measurements of feature-2 (3)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "REGISTRATION",
			"item": [
				{
					"name": "POST a new self registration",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"user\", JSON.parse(responseBody)._id);",
									"postman.setEnvironmentVariable(\"email\", JSON.parse(responseBody).email);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"username_test_1\",\n\t\"password\" : \"password_test_1\",\n\t\"email\" : \"berta@elios.unige.it\",\n\t\"type\" : \"analyst\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/self",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"self"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET to enable registration request (link provided by email)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/self/{{user}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"self",
								"{{user}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of users to be enabled",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/users?filter={\"status\":\"awaiting\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"status\":\"awaiting\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to accept the new user (to be done by admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"status\": \"enabled\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users/{{user}}/status",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{user}}",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as the new registered user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									"postman.setEnvironmentVariable(\"user_id\", JSON.parse(responseBody).user._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"username_test\",\n\t\"password\" : \"password_test\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a request to reset password",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\" : \"{{email}}\"\n}\t"
						},
						"url": {
							"raw": "{{url}}/v1/self/reset",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"self",
								"reset"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT to modify user password (needs the reset request information provided by email)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/self?reset=5ea16a736caa124854c74c73&password=my_new_password",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"self"
							],
							"query": [
								{
									"key": "reset",
									"value": "5ea16a736caa124854c74c73"
								},
								{
									"key": "password",
									"value": "my_new_password"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN using the new password",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									"postman.setEnvironmentVariable(\"user_id\", JSON.parse(responseBody).user._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"username_test\",\n\t\"password\" : \"my_new_password\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "STREAM",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"provider\", JSON.parse(responseBody)._id);",
									"pm.environment.set(\"provider_username\", JSON.parse(responseBody).username);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": " {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-useranme-stream\",\n\t\"password\" : \"provider-password-stream\",\n\t\"type\" : \"provider\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"analyst\", JSON.parse(responseBody)._id);",
									"pm.environment.set(\"analyst_username\", JSON.parse(responseBody).username);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": " {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"analyst-useranme-stream\",\n\t\"password\" : \"analyst-password-stream\",\n\t\"type\" : \"analyst\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2e852dd1-b983-4f2e-b17b-e20748f69c69",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "175d28d8-231a-46db-a349-1575bea419e9",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"_id\": \"stream-data\",\n    \"items\": [\n    \t{\n        \t\"name\": \"valus\",\n            \"unit\": \"unit\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        }\n    ]\n}\n"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"streamer\",\r\n    \"features\": [ \"stream-data\" ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new thing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"streamed-thing\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-username-stream\",\n\t\"password\" : \"provider-password-stream\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new measurement",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());",
									"postman.setEnvironmentVariable(\"value\", Math.floor(Math.random() * 10));",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"startDate\": \"{{current_timestamp}}\",\r\n\t\"endDate\": \"{{current_timestamp}}\",\r\n\t\"thing\": \"streamed-thing\",\r\n\t\"feature\": \"stream-data\",\r\n\t\"device\": \"streamer\",\r\n\t\"samples\": [ { \"values\": [{{value}}] }]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-username-stream\",\n\t\"password\" : \"provider-password-stream\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get the stream of measurement of a thing",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{url}}/v1/stream/entity={{thing}}&token={{token}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"stream",
								"entity={{thing}}&token={{token}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "SUBSCRIPTIONS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d597e8a-3d59-4cab-8bd6-f02a081ceb42",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "28c7fcb2-c270-42b9-a40e-79f3d8f167f2",
								"exec": [
									"pm.environment.set(\"provider\", JSON.parse(responseBody)._id);",
									"pm.environment.set(\"provider_username\", JSON.parse(responseBody).username);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": " {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-useranme-subscription\",\n\t\"password\" : \"provider-password-subscription\",\n\t\"type\" : \"provider\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "949d2966-7d04-4c22-a65a-8280313ef27e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b0a5d3fd-f141-4148-a5e8-25dad071bf1a",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"_id\": \"subscription-data\",\n    \"items\": [\n    \t{\n        \t\"name\": \"valus\",\n            \"unit\": \"unit\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        }\n    ]\n}\n"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b72fefe2-65ed-4890-a06c-67079a3b4728",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b34d5266-a3f1-413e-8c4f-ec6eeddee272",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"subscription-device\",\r\n    \"features\": [ \"subscription-data\" ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new thing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "113148c9-02da-40b3-8692-094cf01ad35e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2beff83f-51da-4ede-bdf5-7017a38f573c",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"subscription-thing\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new subscription",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "18ddd60b-5981-49d7-aec2-b62831bf1cb4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "913c6f03-1087-4d06-a937-0b6d308faa45",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"token\": \"fzXeIMCtk48:APA91bEDsNOrL2qfA_TK9lDsg0iCc4cb4AG5GfYGJfRjt4n0htJq-2byRf9-eoULMViG_NMk09_dMyoN6VTFr3SsW3Z8R8NDBHtL6E8__VNV1ZFVfXf2Mp886GVy3S4jREmwVhS0sOQR\",\r\n  \"thing\": \"subscription-thing\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/subscriptions/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"subscriptions",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fe916a8d-8367-4b23-98dc-f713821cc5d1",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"provider-username-subscription\",\n\t\"password\" : \"provider-password-subscription\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new measurement",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "fe0b104f-9781-40d2-bde8-919c17fa875f",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());",
									"postman.setEnvironmentVariable(\"value\", Math.floor(Math.random() * 10));",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"startDate\": \"{{current_timestamp}}\",\r\n\t\"endDate\": \"{{current_timestamp}}\",\r\n\t\"thing\": \"subscription-thing\",\r\n\t\"feature\": \"subscription-data\",\r\n\t\"device\": \"subscription-device\",\r\n\t\"samples\": [ { \"values\": [{{value}}] }]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "API docs",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d2ffb23-3edf-49a5-bd66-1b69012c7ef6",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"demo\", jsonData);",
							"tests[\"demo = \" + jsonData] = true;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{url}}/",
					"host": [
						"{{url}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "API error codes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d2ffb23-3edf-49a5-bd66-1b69012c7ef6",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"demo\", jsonData);",
							"tests[\"demo = \" + jsonData] = true;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{url}}/v1/errors",
					"host": [
						"{{url}}"
					],
					"path": [
						"v1",
						"errors"
					]
				}
			},
			"response": []
		},
		{
			"name": "API version",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d2ffb23-3edf-49a5-bd66-1b69012c7ef6",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"demo\", jsonData);",
							"tests[\"demo = \" + jsonData] = true;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{url}}/v1/version",
					"host": [
						"{{url}}"
					],
					"path": [
						"v1",
						"version"
					]
				}
			},
			"response": []
		},
		{
			"name": "LOGIN as SuperAdmin",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b8b396eb-9ab8-4738-b284-64d604978545",
						"exec": [
							"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
				},
				"url": {
					"raw": "{{url}}/v1/login",
					"host": [
						"{{url}}"
					],
					"path": [
						"v1",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "API info",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d2ffb23-3edf-49a5-bd66-1b69012c7ef6",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"demo\", jsonData);",
							"tests[\"demo = \" + jsonData] = true;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{url}}/v1/info",
					"host": [
						"{{url}}"
					],
					"path": [
						"v1",
						"info"
					]
				}
			},
			"response": []
		}
	]
}